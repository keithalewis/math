<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Keith A. Lewis" />
  <meta name="dcterms.date" content="2024-07-02" />
  <title>Unified Model</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="math.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: true
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Unified Model</h1>
<p class="author">Keith A. Lewis</p>
<p class="date">July 2, 2024</p>
<div class="abstract">
<div class="abstract-title">Abstract</div>
Value, hedge, and manage the risk of instruments
</div>
</header>
<p>This note assumes you are familiar with measure theory and stochastic
processes, but are not necessarily an expert. We provide a
mathematically rigorous model that extends <span class="citation"
data-cites="Ros1978">(Ross 1978)</span> without involving the
Hahn-Banach theorem. It also does not involve probability measures,
sigma algebras, Brownian motion, the Ito formula, or partial
differential equations. As Ross observed, the Fundamental Theorem of
Asset Pricing involves only geometry, not probability. The Unified Model
can be used for any set of instruments to value, hedge, and understand
how poorly risk-neutral pricing can be used for managing risk. It does
not provide a solution, only an initial framework for further research.
For proofs and more details see <a href="um.html">Unified Model</a>.</p>
<section id="unified-model" class="level2">
<h2>Unified Model</h2>
<p>Let <span class="math inline">T</span> be the set of trading times,
<span class="math inline">I</span> the set of all market instruments,
<span class="math inline">\Omega</span> the sample space of possible
outcomes, and <span class="math inline">({\mathcal{A}}_t)_{t\in
T}</span> be algebras of sets on <span class="math inline">\Omega</span>
indicating the information available at each trading time.</p>
<section id="preliminaries" class="level3">
<h3>Preliminaries</h3>
<p>If <span class="math inline">{\mathcal{A}}</span> is a finite algebra
of sets on <span class="math inline">\Omega</span> then <span
class="math inline">[\omega] = \cap\{A\in{\mathcal{A}}\mid\omega\in
A\}</span> is the <em>atom</em> of <span
class="math inline">{\mathcal{A}}</span> containing <span
class="math inline">{\omega\in\Omega}</span>.</p>
<p><strong>Exercise</strong>. <em>If <span
class="math inline">B\subseteq[\omega]</span> and <span
class="math inline">B\in{\mathcal{A}}</span> then <span
class="math inline">B = \emptyset</span> or <span class="math inline">B
= [\omega]</span></em>.</p>
<p><strong>Exercise</strong>. <em>The atoms of <span
class="math inline">{\mathcal{A}}</span>, <span
class="math inline">[{\mathcal{A}}]</span>, form a partition of <span
class="math inline">\Omega</span></em>.</p>
<p>A partition represents partial information. Complete information is
knowing <span class="math inline">\omega\in\Omega</span>. Partial
information is knowing only which atom of the partition <span
class="math inline">\omega</span> belongs to.</p>
<p>A function <span
class="math inline">X\colon\Omega\to\boldsymbol{R}</span> is <span
class="math inline">{\mathcal{A}}</span> measurable if and only if it is
constant on atoms of <span class="math inline">{\mathcal{A}}</span> so
<span class="math inline">X\colon[{\mathcal{A}}]\to\boldsymbol{R}</span>
<em>is</em> a function.</p>
<p>If <span class="math inline">P</span> is a positive measure with mass
1 on <span class="math inline">\Omega</span> and <span
class="math inline">X\colon\Omega\to\boldsymbol{R}</span> is a random
variable then conditional expectation <span class="math inline">Y =
E[X|{\mathcal{A}}]</span> is equivalent to restriction of measure <span
class="math inline">Y(P|_{\mathcal{A}})
= (XP)|_{\mathcal{A}}</span>.</p>
</section>
<section id="market" class="level3">
<h3>Market</h3>
<p><em>Price</em> – <span
class="math inline">X_t\colon[{\mathcal{A}}_t]\to\boldsymbol{R}^I</span>
market prices assuming perfect liquidity.</p>
<p><em>Cash flow</em> – <span
class="math inline">C_t\colon[{\mathcal{A}}_t]\to\boldsymbol{R}^I</span>
dividends, coupons, margin adjustments for futures.</p>
</section>
<section id="trading" class="level3">
<h3>Trading</h3>
<p><em>Trading Strategy</em> – <span class="math inline">\tau_0 &lt;
\cdots &lt; \tau_n</span> stopping times and trades <span
class="math inline">\Gamma_j\colon[{\mathcal{A}}_{\tau_j}]\to\boldsymbol{R}^I</span></p>
<p><em>Position</em> – <span class="math inline">\Delta_t = \sum_{\tau_j
&lt; t}\Gamma_j = \sum_{s &lt; t} \Gamma_s</span> accumulate trades
<em>not</em> including last.</p>
</section>
<section id="accounting" class="level3">
<h3>Accounting</h3>
<p><em>Value</em> – <span class="math inline">V_t = (\Delta_t +
\Gamma_t)\cdot X_t</span> mark-to-market existing positions and current
trades at current prices.</p>
<p><em>Account</em> – <span class="math inline">A_t = \Delta_t\cdot C_t
- \Gamma_t\cdot X_t</span> receive cash flows proportional to existing
positions and pay for trades just executed.</p>
</section>
<section id="arbitrage" class="level3">
<h3>Arbitrage</h3>
<p><em>Arbitrage</em> exists if there is a trading strategy with <span
class="math inline">A_{\tau_0} &gt; 0</span>, <span
class="math inline">A_t \ge 0</span>, <span class="math inline">t &gt;
\tau_0</span>, and <span class="math inline">\sum_j \Gamma_j = 0</span>.
The first trade makes money and subsequent trades never lose money.</p>
<p>The Fundamental Theorem of Asset Pricing states there is no arbitrage
if and only if there exist <em>deflators</em>, positive measures <span
class="math inline">D_t</span> on <span
class="math inline">{\mathcal{A}}_t</span>, <span
class="math inline">{t\in T}</span>, with <span class="math display">
\tag{1} X_t D_t = (X_u D_u + \sum_{t &lt; s \le u} C_s
D_s)|_{{\mathcal{A}}_t}
</span> A <em>martingale measure</em> satisfies <span
class="math inline">M_t = M_u|{\mathcal{A}}_t</span> for <span
class="math inline">t \le u</span>. Note if cash flows are zero then
deflated prices are a martingale measure. If there are a finite number
of cash flows then prices are determined by deflated future cash
flows.</p>
<p><strong>Lemma</strong>. If <span class="math inline">X_t D_t = M_t -
\sum_{s\le t} C_s D_s</span> where <span class="math inline">M_t</span>
is a martingale measure then there is no arbitrage.</p>
<p><strong>Lemma</strong>. For any arbitrage free model and any trading
strategy <span class="math display">
\tag{2} V_t D_t = (V_u D_u + \sum_{t &lt; s \le u} A_s
D_s)|_{{\mathcal{A}}_t}
</span></p>
<p>Note how the value <span class="math inline">V_t</span> corresponds
to price <span class="math inline">X_t</span> and account <span
class="math inline">A_t</span> corresponds to <span
class="math inline">C_t</span> in equations (2) and (1) respectively.
Trading strategies create synthetic market instruments. This is the
skeleton key to pricing derivative securities.</p>
</section>
</section>
<section id="application" class="level2">
<h2>Application</h2>
<p>Suppose a derivative security specifies amounts <span
class="math inline">\overline{A}_j</span> be paid at times <span
class="math inline">\overline{\tau}_j</span>. If there is a trading
strategy <span class="math inline">(\tau_j, \Gamma_j)</span> with <span
class="math inline">A_{\overline{\tau}_j} = \overline{A}_j</span> for
all <span class="math inline">j</span> and <span class="math inline">A_t
= 0</span> otherwise (aka self-financing) then a “perfect hedge”
exists<a href="#fn1" class="footnote-ref" id="fnref1"
role="doc-noteref"><sup>1</sup></a>.</p>
<p>Note <span class="math inline">V_t D_t = (\sum_{\tau_j &gt; t}
\overline{A}_j D_{\overline{\tau}_j})|_{{\mathcal{A}}_t}</span> can be
computed from the derivative contract specification and the deflators
<span class="math inline">D_t</span>. Since we also have <span
class="math inline">V_t = (\Delta_t + \Gamma_t)\cdot X_t</span> the
Frechet derivative <span class="math inline">D_{X_t}V_t</span> of option
value with respect to <span class="math inline">X_t</span> is <span
class="math inline">\Delta_t + \Gamma_t = \Delta_{t + \epsilon}</span>
for sufficiently small <span class="math inline">\epsilon</span>.</p>
<p>If time <span class="math inline">T = \{t_j\}</span> is discrete we
can compute a possible hedge at each time, <span
class="math inline">\Gamma_j = D_{X_j}V_j - \Delta_j</span>, since <span
class="math inline">\Delta_j</span> is known at <span
class="math inline">t_{j-1}</span>. In general this hedge will not
exactly replicate the derivative contract obligation.</p>
<p>Note delta hedging drops out naturally from the Unified Model,
however it does not require Ito’s formula, much less a proof involving
partial differential equations and changing a measure that is
immediately discarded. One simply writes down a martingale and deflator
then uses equation (2) to value, hedge, and manage the risk of realistic
trading strategies. The notion of “continuous time” hedging is a
mathematical myth.</p>
<section id="black-scholesmerton" class="level3">
<h3>Black-Scholes/Merton</h3>
<p>The Black-Scholes/Merton model uses <span class="math inline">M_t =
(r, s\exp(\sigma B_t - \sigma^2t/2))P</span>, where <span
class="math inline">B_t</span> is Brownian motion, <span
class="math inline">P</span> is Wiener measure, and the deflator is
<span class="math inline">D_t = \exp(-\rho t)P</span>.</p>
<p>More generally, if <span class="math inline">X_t</span> is a Levy
process where <span class="math inline">X_1</span> has mean zero and
variance one then <span class="math inline">{M_t = (r, s\exp(\sigma X_t
- \kappa_t(\sigma)))P}</span> is an arbitrage-free model, where <span
class="math inline">\kappa_t(\sigma) = \log E[\exp(\sigma X_t)]</span>
is the cumulant.</p>
<p>Note every positive random variable with finite mean and log variance
can be written <span class="math inline">{F = f\exp(sX -
\kappa(s))}</span> where <span class="math inline">{f = E[F]}</span>,
<span class="math inline">{s^2 = \operatorname{Var}(\log F)}</span>,
<span class="math inline">X</span> has mean zero and variance 1, and
<span class="math inline">{\kappa(s) = \log E[\exp(sX)]}</span>.</p>
<p>We have <span class="math display">
\begin{aligned}
E[\max\{k - F, 0\}] &amp;= E[(k - F)1(F \le k)] \\
    &amp;= kP(F\le k) - E[F] E[F/E[F] 1(F\le k) \\
    &amp;= kP(F\le k) - fP^s(F\le k) \\
\end{aligned}
</span> where <span class="math inline">dP^s/P = F/E[F]</span>.</p>
<p><strong>Exercise</strong>. <em>If <span class="math inline">X</span>
is standard normal show <span class="math inline">{E[\max\{k - F, 0\}] =
kN(m) - fN(m - s)}</span> where <span class="math inline">N</span> is
the standard normal cumulative distribution and <span
class="math inline">m = (\log(k/f) + s^2/2)/s</span></em>.</p>
<p><em>Hint</em>: Use <span class="math inline">E[\exp(sX) g(X)] =
E[\exp(sX)] E[g(X + s)]</span> if <span class="math inline">X</span> is
standard normal.</p>
<p><strong>Exercise</strong>. <em>Show in general <span
class="math inline">E[{\max\{k - F, 0\}] = kP(X\le m) - kP^s(X\le
m)}</span> where <span class="math inline">{m = (\log(k/f) +
\kappa(s))/s}</span></em>.</p>
</section>
<section id="deflator" class="level3">
<h3>Deflator</h3>
<p>If repurchase agreements are available then a <em>canonical
deflator</em> exists. A repurchase agreement over the interval <span
class="math inline">[t_j, t_{j+1}]</span> is specified by a rate <span
class="math inline">f_j</span> known at time <span
class="math inline">t_j</span>. The price at <span
class="math inline">t_j</span> is <span class="math inline">1</span> and
it has a cash flow of <span class="math inline">{\exp(f_j(t_{j+1} -
t_j))}</span> at time <span class="math inline">t_{j+1}</span>. By
equation (1) we have <span class="math inline">{D_j = \exp(f_j\Delta
t_j)D_{j+1}|_{{\mathcal{A}}_j}}</span>. If <span
class="math inline">D_{j+1}</span> is known at time <span
class="math inline">t_j</span> then <span
class="math inline">{D_{j+1}/D_j = \exp(-f_j\Delta t_j)}</span> and
<span class="math inline">{D_j = \exp(-\sum_{i &lt; j}f_i\Delta
t_i)}</span> is the canonical deflator with <span
class="math inline">D_{t_0} = 1</span>.</p>
<p>The continuous time analog is <span class="math inline">D_t =
\exp(-\int_0^t f(s)\,ds)</span> where <span class="math inline">f</span>
is the continuously compounded instantaneous forward rate.</p>
</section>
<section id="zero-coupon-bond" class="level3">
<h3>Zero Coupon Bond</h3>
<p>A <em>zero coupon bond</em> maturing at time <span
class="math inline">u</span> has a unit cash flow at <span
class="math inline">u</span>. In an arbitrage free model its price at
time <span class="math inline">t\le u</span>, <span
class="math inline">D_t(u)</span> satisfies <span
class="math inline">D_t(u) D_t = D_u|_{{\mathcal{A}}_t}</span> so <span
class="math inline">D_t(u)</span> is the Radon-Nikodym derivative of
<span class="math inline">D_u|_{{\mathcal{A}}_t}</span> with respect to
<span class="math inline">D_t</span>.</p>
<p>A <em>fixed income</em> instrument is a portfolio of zero coupon
bonds. If a bond pays <span class="math inline">c_j</span> at time <span
class="math inline">t_j</span> its present value at time <span
class="math inline">t</span> is <span class="math display">
    P_t = \sum_{t_j &gt; t} c_j D_t(u_j).
</span></p>
<p>Zero coupon bond prices are determined by the deflators.</p>
</section>
<section id="forward-rate-agreement" class="level3">
<h3>Forward Rate Agreement</h3>
<p>A <em>forward rate agreement</em> with coupon <span
class="math inline">f</span> over the interval <span
class="math inline">[u,v]</span> having day count convention <span
class="math inline">\delta</span><a href="#fn2" class="footnote-ref"
id="fnref2" role="doc-noteref"><sup>2</sup></a> has two cash flows:
<span class="math inline">-1</span> at time <span
class="math inline">t</span> and <span class="math inline">{1 +
f\delta(u,v)}</span> at time <span class="math inline">u</span>. The
<em>par forward coupon</em> at time <span class="math inline">t</span>,
<span class="math inline">{F_t^\delta(u,v)}</span> is the coupon for
which the price is 0 at time <span class="math inline">t</span>. By
equation (1) we have <span class="math inline">{0 = (-D_u + (1 +
F_t^\delta(u,v))D_v|_{{\mathcal{A}}_t}}</span> so <span
class="math display">
    F_t^\delta(u,v) = \frac{1}{\delta(u,v)}\left(\frac{D_t(u)}{D_t(v)} -
1\right).
</span></p>
<p>A <em>swap</em> is a collection of back-to-back forward rate
agreements involving times <span class="math inline">(t_j)</span>. The
<em>swap par coupon</em> making the price 0 at time <span
class="math inline">t</span> is <span class="math display">
    F_t^\delta(t_0,\dots,t_n) = \frac{D_t(t_0) -
D_t(t_n)}{\sum_{j=1}^n\delta(t_{j-1},t_j)D_t(t_j)}.
</span></p>
<p><strong>Exercise</strong>. <em>Show if <span class="math inline">n =
2</span> the swap par coupon is the same as the par forward
coupon</em>.</p>
</section>
<section id="risky-bonds" class="level3">
<h3>Risky Bonds</h3>
<p>Companies can default and may pay only a fraction of the notional
owed on bonds they issued. A simple model<a href="#fn3"
class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> for
this is to assume the time of default <span class="math inline">T</span>
and recovery <span class="math inline">R</span> are random variables.
The sample space for the default time is <span
class="math inline">[0,\infty)</span> indicating the time of default.
The information available at time <span class="math inline">t</span> is
the partition consisting of singletons <span
class="math inline">\{s\}</span>, <span class="math inline">s &lt;
t</span> and the set <span class="math inline">[t, \infty)</span>. If
default occurs prior to <span class="math inline">t</span> then we know
exactly when it happened. If default has not occurred by time <span
class="math inline">t</span> then we only know it can occur any time
after that.</p>
<p>The cash flows for a risky bond <span
class="math inline">D^{T,R}(u)</span> are 1 at time <span
class="math inline">u</span> if <span class="math inline">T &gt;
t</span> and <span class="math inline">RD_T</span> at time <span
class="math inline">T</span> if <span class="math inline">T \le
t</span>. For the model to be arbitrage-free we must have <span
class="math display">
    D_t^{R,T}(u) D_t = \bigl(1(T &gt; u)D_u + 1(T\le u)R
D_T\bigr)|_{{\mathcal{A}}_t}.
</span> Note if <span class="math inline">T = \infty</span> or <span
class="math inline">R = 1</span> then <span
class="math inline">{D_t^{R,T}(u) = D_t(u)}</span>.</p>
<p>If the deflators are independent of the stopping time and recovery is
<span class="math inline">RD_T(u)</span> at <span
class="math inline">T\le u</span> for some constant <span
class="math inline">R</span> then using <span
class="math inline">D_T(u)D_T = D_u|_{{\mathcal{A}}_T}</span> for <span
class="math inline">T \le u</span> we have <span class="math display">
    D_t^{T,R}(u) D_t P(T &gt; t) = \bigl(P(T &gt; u) + R P(t &lt; T \le
u)\bigr)D_u|_{{\mathcal{A}}_t}
</span> The <em>credit spread</em> <span
class="math inline">\lambda_t^{T,R}(u)</span> is defined by <span
class="math inline">{D_t^{T,R}(u) = D_t(u)\exp(-\lambda_t^{T,R}(u) (u -
t))}</span>. In the above case <span class="math display">
    \lambda_t^{T,R}(u) = -\frac{\log(P(T &gt; u) + R P(t &lt; T \le
u))}{u - t}.
</span></p>
<!--
### Binomial Model

Let $W_n$ be (symmetric) random walk. The model for bond and stock is

$V_0 = E[\nu(S_n)]$

$\Gamma = (M, N)$.
-->
</section>
</section>
<section id="reference" class="level2 unnumbered">
<h2 class="unnumbered">Reference</h2>
<div id="refs" class="references csl-bib-body hanging-indent"
data-entry-spacing="0" role="list">
<div id="ref-Ros1978" class="csl-entry" role="listitem">
Ross, Stephen A. 1978. <span>“A <span>Simple</span>
<span>Approach</span> to the <span>Valuation</span> of
<span>Risky</span> <span>Streams</span>.”</span> <em>The Journal of
Business</em> 51 (3): 453–75. <a
href="https://www.jstor.org/stable/2352277">https://www.jstor.org/stable/2352277</a>.
</div>
</div>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document"
role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>Perfect hedges never exist.<a href="#fnref1"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>The <em>day count fraction</em> <span
class="math inline">\delta(u, v)</span> is approximately <span
class="math inline">v - u</span> in years.<a href="#fnref2"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>This is a very simplified model.<a href="#fnref3"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
</body>
</html>
