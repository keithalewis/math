<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Keith A. Lewis" />
  <meta name="dcterms.date" content="2024-04-23" />
  <title>Unified Model</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="math.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: true
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Unified Model</h1>
<p class="author">Keith A. Lewis</p>
<p class="date">April 23, 2024</p>
<div class="abstract">
<div class="abstract-title">Abstract</div>
Value, hedge, and manage the risk of instruments
</div>
</header>
<p>This note assumes you are familiar with measure theory and stochastic
processes, but are not necesarily an expert. We provide a mathematically
rigorous model for any set of instruments that can be used to value,
hedge, and understand how poorly risk-neutral pricing can be used for
managing risk. It does not provide a solution, only an initial framework
for for further research.</p>
<section id="unified-model" class="level2">
<h2>Unified Model</h2>
<p>Let <span class="math inline">T</span> be the set of trading times,
<span class="math inline">I</span> the set of all market instruments,
<span class="math inline">\Omega</span> the sample space of possible
outcomes, and <span class="math inline">({\mathcal{A}}_t)_{t\in
T}</span> be algebras of sets on <span class="math inline">\Omega</span>
indicating the information available at each trading time.</p>
<p>If <span class="math inline">{\mathcal{A}}</span> is a finite algebra
of sets on <span class="math inline">\Omega</span> then the
<em>atoms</em> of <span class="math inline">{\mathcal{A}}</span>, <span
class="math inline">\bar{{\mathcal{A}}}</span>, form a partition of
<span class="math inline">\Omega</span>. A function <span
class="math inline">X\colon\Omega\to\boldsymbol{R}</span> is <span
class="math inline">{\mathcal{A}}</span> measurable if and only if it is
constant on atoms of <span class="math inline">{\mathcal{A}}</span> so
<span
class="math inline">X\colon\bar{{\mathcal{A}}}\to\boldsymbol{R}</span>
is a function.</p>
<p>If <span class="math inline">P</span> is a probability measure on
<span class="math inline">\Omega</span> and <span
class="math inline">X\colon\Omega\to\boldsymbol{R}</span> is a random
variable then conditional expectation <span class="math inline">Y =
E[X|{\mathcal{A}}]</span> is equivalent to restriction of measure <span
class="math inline">Y(P|A) = (XP)|{\mathcal{A}}</span>.</p>
<section id="market" class="level3">
<h3>Market</h3>
<dl>
<dt><em>Price</em> – market price assuming perfect liquidity</dt>
<dd>
<span
class="math inline">X_t\colon\bar{{\mathcal{A}}_t}\to\boldsymbol{R}^I</span>
</dd>
<dt><em>Cash flow</em> – dividends, coupons, margin adjustments for
futures</dt>
<dd>
<span
class="math inline">C_t\colon\bar{{\mathcal{A}}_t}\to\boldsymbol{R}^I</span>
</dd>
</dl>
</section>
<section id="trading" class="level3">
<h3>Trading</h3>
<dl>
<dt><em>Trading Strategy</em> – increasing stopping times</dt>
<dd>
<span class="math inline">\tau_0 &lt; \cdots &lt; \tau_n</span> and
trades <span
class="math inline">\Gamma_j\colon{\mathcal{A}}_{\tau_j}\to\boldsymbol{R}^I</span>
</dd>
<dt><em>Position</em> – accumulate trades not including last trade</dt>
<dd>
<span class="math inline">\Delta_t = \sum_{\tau_j &lt; t}\Gamma_j =
\sum_{s &lt; t} \Gamma_s</span>
</dd>
</dl>
</section>
<section id="valuation" class="level3">
<h3>Valuation</h3>
<dl>
<dt><em>Value</em> – mark-to-market including last trade</dt>
<dd>
<span class="math inline">V_t = (\Delta_t + \Gamma_t)\cdot X_t</span>
</dd>
<dt><em>Account</em> – trading account blotter</dt>
<dd>
<span class="math inline">A_t = \Delta_t\cdot C_t - \Gamma_t\cdot
X_t</span>
</dd>
</dl>
</section>
<section id="arbitrage" class="level3">
<h3>Arbitrage</h3>
<p><em>Arbitrage</em> exists if there is a trading strategy with <span
class="math inline">A_{\tau_0} &gt; 0</span>, <span
class="math inline">A_t \ge 0</span>, <span class="math inline">t &gt;
\tau_0</span>, and <span class="math inline">\sum_{j} \Gamma_j =
0</span>. The first trade makes money and subsequent trades never lose
money.</p>
<p>The Fundamental Theorem of Asset Pricing states there is no arbitrage
if and only if there exist <em>deflators</em>, positive measures <span
class="math inline">D_t\colon{\mathcal{A}}_t\to(0,\infty)</span>, <span
class="math inline">{t\in T}</span> on <span
class="math inline">\Omega</span>, with <span class="math display">
\tag{1} X_t D_t = (X_u D_u + \sum_{t &lt; s \le u} C_s
D_s)|{{\mathcal{A}}_t}
</span> Note if cash flows are zero then deflated prices are a
martingale. If there are a finite number of cash flows then prices are
determined by deflated future cash flows.</p>
<p><strong>Lemma</strong>. If <span class="math inline">X_t D_t = M_t -
\sum_{s\le t} C_s D_s</span> where <span class="math inline">M_t =
M_u|{{\mathcal{A}}_t}</span>, <span class="math inline">t \le u</span>,
then there is no arbitrage.</p>
<p><strong>Lemma</strong>. For any arbitrage free model and any trading
strategy <span class="math display">
\tag{2} V_t D_t = (V_u D_u + \sum_{t &lt; s \le u} A_s
D_s)|{{\mathcal{A}}_t}
</span></p>
<p>Note how the value <span class="math inline">V_t</span> corresponds
to price <span class="math inline">X_t</span> and account <span
class="math inline">A_t</span> corresponds to <span
class="math inline">C_t</span> in equations (2) and (1) respectively.
Trading strategies create synthetic market instruments. This is the
skeleton key to pricing derivative securities.</p>
</section>
</section>
<section id="application" class="level2">
<h2>Application</h2>
<p>Suppose a derivative security specifies amounts <span
class="math inline">\bar{A}_j</span> be paid at times <span
class="math inline">\bar{\tau}_j</span>. If there is a trading strategy
<span class="math inline">(\tau_j, \Gamma_j)</span> with <span
class="math inline">A_{\bar{\tau}_j} = \bar{A}_j</span> for all <span
class="math inline">j</span> and <span class="math inline">A_t =
0</span> otherwise (aka self-financing) then a “perfect hedge” exists<a
href="#fn1" class="footnote-ref" id="fnref1"
role="doc-noteref"><sup>1</sup></a>.</p>
<p>Note <span class="math inline">V_t D_t= (\sum_{\tau_j &gt; t}
\bar{A}_j D_{\bar{\tau_j}})|{\mathcal{A}}_t</span> can be computed from
the deriviative contract specification and the deflators <span
class="math inline">D_t</span>. Since <span class="math inline">V_t =
(\Delta_t + \Gamma_t)\cdot X_t</span> we have <span
class="math inline">\Delta_t + \Gamma_t</span>, is the Frechet
derivative <span class="math inline">D_{X_t}V_t</span> of option value
with respect to <span class="math inline">X_t</span>.</p>
<p>If time <span class="math inline">T = \{t_j\}</span> is discrete we
can compute a possible hedge at each time, <span
class="math inline">\Gamma_j = D_{X_j}V_j - \Delta_j</span>, since <span
class="math inline">\Delta_j</span> is known at <span
class="math inline">t_{j-1}</span>. In general this hedge will not
exactly replicate the derivative contract obligation.</p>
<section id="black-scholesmerton" class="level3">
<h3>Black-Scholes/Merton</h3>
<p>The Black-Scholes/Merton model uses <span class="math inline">M_t =
(r, s\exp(\sigma B_t - \sigma^2t/2)P</span>, where <span
class="math inline">B_t</span> is Brownian motion and <span
class="math inline">P</span> is Weiner measure The deflator is <span
class="math inline">D_t = \exp(-\rho t)</span>.</p>
<p>Note the Unified Model does not require Ito’s formula and a proof
involving partial differential equations. One just writes down a
martingale and deflator then uses equation (2) to value, hedge, and
manage the risk of trading strategies that can be performed. The notion
of “continuous time” hedging is a mathematical myth.</p>
</section>
<section id="deflator" class="level3">
<h3>Deflator</h3>
<p>If repurchase agreements are available then a <em>canonical
deflator</em> exists. A repurchase agreement over the interval <span
class="math inline">[t_j, t_{j+}]</span> is specified by a rate <span
class="math inline">f_j</span> known at time <span
class="math inline">t_j</span>. The price at <span
class="math inline">t_j</span> is <span class="math inline">1</span> and
it has a cash flow of <span class="math inline">\exp(f_j(t_{j+1} -
t_j))</span> at time <span class="math inline">t_{j+1}</span>. By
equation (1) we have <span class="math inline">D_j = \exp(f_j\Delta
t_j)D_{j+1}|{\mathcal{A}}_j</span>. If <span
class="math inline">D_{j+1}</span> is known at time <span
class="math inline">t_j</span> then <span
class="math inline">D_{j+1}/D_j = \exp(-f_j\Delta t_j)</span> and <span
class="math inline">D_j = \exp(-\sum_{i &lt; j}f_i\Delta t_i)</span> is
the canonical deflator.</p>
<p>The continuous time analog is <span class="math inline">D_t =
\exp(-\int_0^t f(s)\,ds)</span> where <span class="math inline">f</span>
is the continuously componded instantaneous forward rate.</p>
</section>
<section id="zero-coupon-bond" class="level3">
<h3>Zero Coupon Bond</h3>
<p>A <em>zero coupon bond</em> maturing at time <span
class="math inline">u</span> has a unit cash flow at <span
class="math inline">u</span>. In an arbitrage free model its price at
time <span class="math inline">t\le u</span>, <span
class="math inline">D_t(u)</span> satisfies <span
class="math inline">D_t(u) D_t = D_u|{\mathcal{A}}_t</span> so <span
class="math inline">D_t(u)</span> is the Radon-Nikodym derivative of
<span class="math inline">D_u|{\mathcal{A}}_t</span> with respect to
<span class="math inline">D_t</span>.</p>
<p>A <em>fixed income</em> instrument is a portfolio of zero coupon
bonds. If a bond pays <span class="math inline">c_j</span> at time <span
class="math inline">t_j</span> its present value at time <span
class="math inline">t</span> is <span class="math display">
    P_t = \sum_{t_j &gt; t} c_j D_t(u_j).
</span></p>
<p>Zero coupon bond prices are determined by the deflators.</p>
</section>
<section id="forward-rate-agreement" class="level3">
<h3>Forward Rate Agreement</h3>
<p>A <em>forward rate agreement</em> with coupon <span
class="math inline">f</span> over the interval <span
class="math inline">[u,v]</span> having day count convention <span
class="math inline">\delta</span> has two cash flows: <span
class="math inline">-1</span> at time <span class="math inline">t</span>
and <span class="math inline">1 + f\delta(u,v)</span> at time <span
class="math inline">u</span>. The <em>par forward coupon</em> at time
<span class="math inline">t</span>, <span
class="math inline">F_t^\delta(u,v)</span> is the coupon for which the
price is 0 at time <span class="math inline">t</span>. By equation (1)
we have <span class="math inline">0 = (-D_u + (1 +
F_t^\delta(u,v))D_v|{\mathcal{A}}_t</span> so <span
class="math display">
    F_t^\delta(u,v) = \frac{1}{\delta(u,v)}\bigl(\frac{D_t(u)}{D_t(v)} -
1\bigr).
</span></p>
<p>A <em>swap</em> is a collection of back-to-back forward rate
agreements. The <em>swap par coupon</em> makes the price 0 at time <span
class="math inline">t</span> so <span class="math display">
    F_t^\delta(t_0,\dots,t_n) = \frac{D_t(t_0) -
D_t(t_n)}{\sum_{j=1}^n\delta(t_{j-1},t_j)D_t(t_j)}.
</span></p>
</section>
<section id="risky-bonds" class="level3">
<h3>Risky Bonds</h3>
<p>Companies can default and may pay only a fraction of the notional
owed on bonds they issued. A simple model for this is to assume the time
of default is a random variable <span class="math inline">T</span> and
recovery <span class="math inline">R</span> is a constant fraction
between 0 and 1.<a href="#fn2" class="footnote-ref" id="fnref2"
role="doc-noteref"><sup>2</sup></a> The sample space for the default
time is <span class="math inline">[0,\infty)</span> indicating the time
of default. The information available at time <span
class="math inline">t</span> is the partition consisting of singletons
<span class="math inline">\{s\}</span>, <span class="math inline">s &lt;
t</span> and the set <span class="math inline">[t, \infty)</span>. If
default occurs prior to <span class="math inline">t</span> then we know
exactly when it happend. If default has not occured by time <span
class="math inline">t</span> then we only know it can be any time after
that.</p>
<p>The cash flows for a risky bond <span
class="math inline">D^{T,R}(u)</span> are 1 at time <span
class="math inline">u</span> if <span class="math inline">T &gt;
t</span> and <span class="math inline">RD(T)</span> at time <span
class="math inline">T</span> if <span class="math inline">T \le
t</span>. For the model to be arbitrage-free we must have <span
class="math display">
    D_t^{R,T}(u) D_t = (D_u 1(T &gt; u) + RD_t 1(T\le
u)|{\mathcal{A}}_t.
</span> If the interest rate is 0 then <span class="math inline">D_t =
1</span> and <span class="math inline">D_0^{R,T} = P(T &gt; u) + RP(T\le
u)</span>.</p>
<p>We need to extend the sample space to model the default time, <span
class="math inline">\Omega&#39; = \Omega\times [0,\infty)</span>.</p>
<!--
### Binomial Model

Let $W_n$ be (symmetric) random walk. The model for bond and stock is
the martingale $M_n = (R_n, S_n)$ where $R_n = r$ and $S_n = s\exp(\sigma W_n)/\cosh^n(\sigma))$
and the deflator $D_n = 1$ assumes zero interest rate.

$V_0 = E[\nu(S_n)]$

$\Gamma = (M, N)$.
-->
</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document"
role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>Perfect hedges never exist.<a href="#fnref1"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>This is a very simplified model.<a href="#fnref2"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
</body>
</html>
