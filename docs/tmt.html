<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Keith A. Lewis" />
  <meta name="dcterms.date" content="2025-10-18" />
  <title>The Markowitz Tragedy</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="math.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: true
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">The Markowitz Tragedy</h1>
<p class="author">Keith A. Lewis</p>
<p class="date">October 18, 2025</p>
<div class="abstract">
<div class="abstract-title">Abstract</div>
The dominance of unimportance.
</div>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#examples" id="toc-examples">Examples</a></li>
<li><a href="#general-one-period-model"
id="toc-general-one-period-model">General One-Period Model</a></li>
<li><a href="#multi-period-model"
id="toc-multi-period-model">Multi-Period Model</a>
<ul>
<li><a href="#one-period-model" id="toc-one-period-model">One-Period
Model</a></li>
<li><a href="#ftap" id="toc-ftap">FTAP</a></li>
</ul></li>
<li><a href="#optimization" id="toc-optimization">Optimization</a></li>
<li><a href="#notes" id="toc-notes">NOTES</a></li>
</ul>
</nav>
<p>The <em>one period model</em> for a set of instruments <span
class="math inline">I</span> is determined by a vector of initial prices
<span class="math inline">x\in\boldsymbol{R}^I</span> <a href="#fn1"
class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> and
a vector-valued function <span
class="math inline">X\colon\Omega\to\boldsymbol{R}^I</span> where <span
class="math inline">\Omega</span> is the set of possible outcomes. The
instrument prices at the end of the period are <span
class="math inline">X(\omega)\in\boldsymbol{R}^I</span> if <span
class="math inline">\omega\in\Omega</span> occurred. For example, we
could take <span class="math inline">\Omega = \boldsymbol{R}^I</span>
and let <span class="math inline">X</span> be the identity function. At
the other extreme we could take <span class="math inline">\Omega</span>
to be any one element set to get a deterministic model. Binomial models
correspond to <span class="math inline">\Omega</span> having two
elements. We can extend any one-period model to allow a catastrophic
event <span class="math inline">\bot</span>. Let <span
class="math inline">\Omega^\bot = \Omega\cup\{\bot\}</span> and define
<span class="math inline">X^\bot(\omega) = X(\omega)</span>, <span
class="math inline">\omega\in\Omega</span>, and <span
class="math inline">X^\bot(\bot) = 0</span> modeling the notion all
instrument prices are 0 in the event of a catastrophe.</p>
<p>Note we <em>do not</em> assume a probability measure on <span
class="math inline">\Omega</span>.</p>
<p>The <em>cost</em> of obtaining portfolio <span
class="math inline">\gamma\in\boldsymbol{R}^I</span> at the beginning of
the period is the inner product <span class="math inline">\sum_{i\in I}
\gamma_i x_i = \gamma\cdot x = \gamma&#39;x</span>. The components of
<span class="math inline">\gamma</span> are the <em>amount</em>
purchased in each instrument. At the end of the period it has
<em>value</em> <span class="math inline">\gamma&#39;X(\omega)</span>
given <span class="math inline">\omega\in\Omega</span> occured. The
model has <em>arbitrage</em> if there exists <span
class="math inline">\gamma\in\boldsymbol{R}^I</span> with <span
class="math inline">\gamma&#39;x &lt; 0</span> and <span
class="math inline">\gamma&#39;X(\omega)\ge0</span> for all <span
class="math inline">\omega\in\Omega</span>. If the cost is negative we
make money initially and if the final value is always non-negative we
can liquidate the position and not lose money.</p>
<p>The Fundamental Theorem of Asset Pricing states that a model is
arbitrage free if and only if <span class="math inline">x</span> belongs
to the smallest cone containing the range of <span
class="math inline">X</span>. Note this is a purely geometric condition.
There is no need to use probability to define arbitrage.</p>
<p>Recall a <em>cone</em> is a subset <span class="math inline">C\subset
V</span>, where <span class="math inline">V</span> is a vector space,
such that <span class="math inline">x\in C</span> implies <span
class="math inline">px\in C</span> for every scalar <span
class="math inline">p &gt; 0</span> and if <span
class="math inline">x,y\in C</span> then <span class="math inline">x +
y\in C</span>.</p>
<p><strong>Exercise</strong>. <em>Show the set of arbitrage portfolios
is a cone</em>.</p>
<details>
<summary>
Solution
</summary>
Recall <span class="math inline">\gamma</span> is an arbitrage portfolio
if and only if <span class="math inline">\gamma&#39;x &lt; 0</span> and
<span class="math inline">\gamma&#39;X\ge0</span>. If <span
class="math inline">p &gt; 0</span> then <span
class="math inline">p\gamma&#39;x &lt; 0</span> and <span
class="math inline">p\gamma&#39;X\ge0</span>. If <span
class="math inline">\eta</span> is another arbitrage portfolio then
<span class="math inline">(\gamma + \eta)&#39;x = \gamma&#39;x +
\eta&#39;x &lt; 0</span> and <span class="math inline">(\gamma +
\eta)&#39;X = \gamma&#39;X + \eta&#39;X \ge 0</span>.
</details>
<p>The <em>range</em> of <span class="math inline">X</span> is the set
<span class="math inline">X(\Omega) = \{X(\omega)\mid
\omega\in\Omega\}</span>. Points of the form <span class="math inline">x
= \sum_j p_j X(\omega_j)</span> where <span class="math inline">p_j &gt;
0</span> and <span class="math inline">\omega_j\in\Omega</span> belong
the the smallest cone containing the range of <span
class="math inline">X</span>.</p>
<p><strong>Exercise</strong>. <em>If <span
class="math inline">X(\omega)\ge0</span>, <span
class="math inline">\omega\in\Omega</span>, show <span
class="math inline">\gamma&#39;x\ge0</span> for all <span
class="math inline">\gamma\in\boldsymbol{R}^I</span></em>.</p>
<p><em>Hint</em>: We are assuming <span class="math inline">x = \sum_j
p_j X(\omega_j)</span> where <span class="math inline">p_j &gt; 0</span>
and <span class="math inline">\omega_j\in\Omega</span>.</p>
<p>This (almost) proves the easy direction: if <span
class="math inline">x</span> belongs to the cone determined by the range
of <span class="math inline">X</span> then there are no arbitrage
portfolios. If <span class="math inline">x</span> is not in the cone and
<span class="math inline">x^*</span> is the point in the cone closest to
<span class="math inline">x</span>, then <span
class="math inline">\gamma = x^* - x</span> is an arbitrage. However,
proving that involves more machinery<a href="#fn2" class="footnote-ref"
id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p>
<section id="examples" class="level3">
<h3>Examples</h3>
<p>Consider a bond, stock, and at-the-money call option where the bond
has zero interest rate, the stock has initial price 100 and either 90 or
110 as the final prices, and the call option has price <span
class="math inline">c</span>. The one-period model for this is <span
class="math inline">x = (1, 100, c)</span> and <span
class="math inline">X(\omega) = (1, \omega, \max\{\omega - 100,
0\})</span> where <span class="math inline">\omega\in\Omega = \{90,
110\}</span>. The range of <span class="math inline">X</span> is <span
class="math inline">X(\Omega) = \{X(90), X(110)\}</span> and the
smallest cone containing the range of <span class="math inline">X</span>
consists of <span class="math inline">\{aX(90) + bX(110)</span> where
<span class="math inline">a,b\ge 0</span>. Since <span
class="math inline">x = X(90)/2 + X(110)/2</span> we must have <span
class="math inline">c = 0/2 + 10/2 = 5</span> if the model is
arbitrage-free.</p>
<p>More generally, assume the bond has realized return <span
class="math inline">R</span>, the stock has initial price <span
class="math inline">s</span> and final price <span
class="math inline">\omega</span> where <span
class="math inline">\omega\in\{L,H\}</span>. Assume an European option
has price <span class="math inline">c</span> and pays <span
class="math inline">\nu(\omega)</span> at the end of the period. The
one-period model is <span class="math inline">x = (1, s, c)</span> and
<span class="math inline">X(\omega) = (R, \omega, \nu(\omega))</span>.
The range of <span class="math inline">X</span> is <span
class="math inline">X(\Omega) = \{X(L), X(H)\}</span> and the smallest
cone containing the range of <span class="math inline">X</span> consists
of <span class="math inline">\{aX(L) + bX(H)\mid a,b\ge 0\}</span>. If
<span class="math inline">x = aX(L) + bX(H)</span> then <span
class="math inline">1 = aR + bR</span> and <span class="math inline">s =
aL + bH</span> so <span class="math inline">a = (H - Rs)/R(H - L)</span>
and <span class="math inline">b = (Rs - L)/R(H - L)</span>. The
no-arbitrage condition implies <span class="math inline">a,b\ge0</span>
so <span class="math inline">L \le Rs \le H</span>. In this case <span
class="math inline">c =  \nu(L)(H - Rs)/R(H - L) + \nu(H)(Rs - L)/R(H -
L)</span>.</p>
<p>If we let <span class="math inline">\Omega = [L,H]</span> be an
interval we get the same answer.</p>
<p><strong>Exercise</strong>. <em>Show <span
class="math inline">X(\omega)</span> is a linear combination of <span
class="math inline">X(L)</span> and <span
class="math inline">X(H)</span> with positive coefficients if <span
class="math inline">\omega\in[L, H]</span></em>.</p>
<p>This shows the smallest cone generated by <span
class="math inline">X([L,H])</span> equals the smallest cone generated
by <span class="math inline">X(L)</span> and <span
class="math inline">X(H)</span>.</p>
<p>A puzzle making the rounds a few years ago was given a bond with zero
interest rate, a stock with initial price 100 and possible final prices
of 90, 100, and 110, what are the allowable arbitrage-free prices of an
at-the-money call? The call can expire at either <span
class="math inline">0</span> or <span class="math inline">10</span>,
however the arbitrage-free price must be between 0 and 5. The one period
model for this is <span class="math inline">x = (1, 100, c)</span> where
<span class="math inline">c</span> is the call value, and <span
class="math inline">X(\omega) = (1, \omega, \max\{\omega -
100,0\})</span> for <span class="math inline">\omega\in\Omega = \{90,
100, 110\}</span>. The set of all points in the smallest cone containg
the range of <span class="math inline">X</span> is <span
class="math display">
    \{aX(90) + bX(100) + cX(110)\mid a,b,c \ge 0\}.
</span> Since <span class="math inline">x = X(90)c/10 + X(100)(1 - c/5)
+ X(110)c/10</span> we must have <span class="math inline">c\ge0</span>
and <span class="math inline">1 - c/5\ge0</span>, so <span
class="math inline">0 \le c \le 5</span>.</p>
<p><strong>Exercise</strong>. <em>Assume only the stock and call are
available. What is the no arbitrage condition for <span
class="math inline">c</span></em>?</p>
<p><em>Hint</em>: It is not <span class="math inline">0\le c\le
10</span>.</p>
<p>As above, the answer does not change if we take <span
class="math inline">\Omega = [90, 110]</span>.</p>
<p>If the call has strike <span class="math inline">k</span>…</p>
</section>
<section id="general-one-period-model" class="level2">
<h2>General One-Period Model</h2>
<p>If we assume <span class="math inline">X</span> is bounded on <span
class="math inline">\Omega</span> then there exists a positive measure
<span class="math inline">\pi</span> on <span
class="math inline">\Omega</span> with <span class="math inline">x =
\int_\Omega X\,d\pi</span>. The <em>mass</em> of <span
class="math inline">\pi</span> is <span class="math inline">\|\pi\| =
\int_\Omega 1\, d\pi</span>. Since <span class="math inline">Q =
\pi/\|pi\|</span> is a probability measure we can write this as <span
class="math inline">x = E[X]/R</span> where <span class="math inline">R
= 1/\|\pi\|</span>. Of course <span class="math inline">Q</span> is not
the probability of anything, it is just a positive measure with mass 1.
We call <span class="math inline">Q</span> a <em>risk-neutral</em>
measure.</p>
<p><strong>Exercise</strong>. <em>Show the risk-neutral measure is
unique for a binomial model</em>.</p>
<p>In general, there are many risk-neutral measures for a one period
model having more than two outcomes.</p>
<p>Given any portfolio <span
class="math inline">\gamma\in\boldsymbol{R}^I</span> define <span
class="math inline">R_\gamma = \gamma&#39;X/\gamma&#39;x</span> to be
the <em>realized return</em> of the portfolio whenever <span
class="math inline">\gamma&#39;x\neq 0</span>.</p>
<p><strong>Exercise</strong> <em>Show <span class="math inline">R_\gamma
= R_{t\gamma}</span> for any scalar <span
class="math inline">t\in\boldsymbol{R}</span>, <span
class="math inline">t\neq 0</span></em>.</p>
<p><strong>Exercise</strong> <em>If <span class="math inline">x =
E[X]/R</span> show <span class="math inline">E[R_\gamma] = R</span> for
all <span class="math inline">\gamma\in\boldsymbol{R}^I</span> with
<span class="math inline">\gamma&#39;x\neq 0</span></em>.</p>
<p>This puts a crimp in portfolio optimization when using risk-neutral
measures.</p>
<p>We call <span class="math inline">\zeta\in\boldsymbol{R}^I</span> a
<em>zero coupon bond</em> if <span
class="math inline">\zeta&#39;X(\omega) = 1</span> for all <span
class="math inline">\omega\in\Omega</span>. The <em>discount</em> is
<span class="math inline">D = \zeta&#39;x = \int_\Omega 1\,d\pi =
1/R</span> so we have <span class="math inline">x = E[X]D</span>.</p>
</section>
<section id="multi-period-model" class="level2">
<h2>Multi-Period Model</h2>
<p>An <span class="math inline">n</span>-period model specifies trading
times <span class="math inline">t_0 &lt; t_1 &lt; \cdots &lt;
t_n</span>.</p>
<p>A <em>partition</em> <span class="math inline">\mathcal{A}</span> of
a set <span class="math inline">\Omega</span> is used to represent
partial information…</p>
<p>The <em>multi-period model</em> for a set of instruments <span
class="math inline">i</span> is determined by vector-valued functions
for <em>price</em> and <em>cash flows</em>, <span
class="math inline">X_t,C_t\colon\mathcal{A}_t\to\boldsymbol{R}^I</span>.</p>
<p>Prices…</p>
<p>Cash flows…</p>
<p>A <em>trading strategy</em> consists of vector-valued functions <span
class="math inline">\Gamma_t\colon\mathcal{A}_t\to\boldsymbol{R}^I</span>
indicating how many shares of each instrument are traded at time <span
class="math inline">t</span>. A strategy is <em>closed out</em> if <span
class="math inline">\sum_t \Gamma_t = 0</span>. The <em>position</em> at
time <span class="math inline">t</span> is <span
class="math inline">\Delta_t = \sum_{s &lt; t} \Gamma_j</span>. Note the
strict inequality…</p>
<p>Value <span class="math inline">V_t = (\Delta_t + \Gamma_t)\cdot
X_t</span>…</p>
<p>Account <span class="math inline">A_t = \Delta_t\cdot C_t -
\Gamma_t\cdot X_t</span>…</p>
<p>The set of all trading strategies is <span
class="math inline">\mathcal{G} = \{(\Gamma_t)_{t\in T}\mid
\Gamma_t\colon\mathcal{A}_t\to\boldsymbol{R}^I\}</span>. Let <span
class="math inline">\mathcal{G}_0</span> be the collection of closed out
trading strategies. Arbitrage exists if there is a closed out trading
strategy <span class="math inline">(\Gamma_t)_{t\in T}</span> with <span
class="math inline">A_{t_0} &gt; 0</span> and <span
class="math inline">A_{t_j}\ge0</span> for <span class="math inline">j
&gt; 0</span>.</p>
<section id="one-period-model" class="level3">
<h3>One-Period Model</h3>
<p>For a one-period model <span class="math inline">\mathcal{G}_0 =
\{(\gamma,-\gamma)\mid \gamma\in\boldsymbol{R}^I\}</span>. In this case
<span class="math inline">A_0 = -\gamma\cdot X_0</span> and <span
class="math inline">A_1 = \gamma\cdot C_1 + \gamma\cdot X_1</span>. As a
warm-up for the proof of the multi-period case define <span
class="math inline">A\colon\boldsymbol{R}^I\to\boldsymbol{R}^I\oplus
B(\Omega)</span> by <span class="math inline">A\gamma = (A_0,
A_1)</span>. The no arbitrage condition is the range of the operator
<span class="math inline">A</span> does not intersect the cone <span
class="math inline">\mathcal{P} = \{(p, P)\mid p &gt; 0, P\ge
0\}</span></p>
</section>
<section id="ftap" class="level3">
<h3>FTAP</h3>
</section>
</section>
<section id="optimization" class="level2">
<h2>Optimization</h2>
<p>The Markowitz optimization problem is to maximize <span
class="math inline">E[R_\gamma] -
(\tau/2)\operatorname{Var}(R_\gamma)</span> under the constraint <span
class="math inline">\gamma&#39;x = 1</span>, where <span
class="math inline">\tau</span> is a <em>risk aversion</em> parameter.
In general, higher returns and smaller variance are preferred. In what
follows, we assume <span class="math inline">x = (1,\ldots,1) =
\boldsymbol{1}</span> by dividing the components of <span
class="math inline">X</span> by corresponding components of <span
class="math inline">x</span>. Note <span class="math inline">E[R_\gamma]
= \gamma&#39;E[X]</span> and <span
class="math inline">\operatorname{Var}(R_\gamma) =
\gamma&#39;V\gamma</span> where <span class="math inline">V = E[XX&#39;]
- E[X]E[X&#39;]</span>.</p>
<p>When <span class="math inline">\tau = 0</span>, as we have seen
above, <span class="math inline">E[R_\gamma]</span> does not depend on
<span class="math inline">\gamma</span> if <span class="math inline">x =
\int_\Omega X\,d\pi</span> for some positive measure <span
class="math inline">\pi</span>.</p>
<p><strong>Exercise</strong>. <em>In a model with arbitrage show <span
class="math inline">E[R_\gamma]</span>, <span
class="math inline">\gamma&#39;x = 1</span>, is unbounded above and
below</em>.</p>
<p>When <span class="math inline">\tau &gt; 0</span> we have the optimum
<span class="math display">
    \gamma = (\tau V)^{-1}(E[X] - \lambda\boldsymbol{1})
</span> where <span class="math inline">\lambda = (\tau - B)/A</span>,
<span class="math inline">B = \boldsymbol{1}&#39;V^{-1}E[X]</span>, and
<span class="math inline">A =
\boldsymbol{1}&#39;V^{-1}\boldsymbol{1}</span>. Note every optimal
portfolio belongs to the two dimensional space spanned by <span
class="math inline">V^{-1}E[X]</span> and <span
class="math inline">V^{-1}\boldsymbol{1}</span>.</p>
<p>If <span class="math inline">x = \boldsymbol{1}= E[X]/R</span> then
<span class="math inline">B = AR</span>, <span
class="math inline">\lambda = \tau/A - R</span>, <span
class="math inline">E[X] - \lambda\boldsymbol{1}= R\boldsymbol{1}-
(\tau/A - R)\boldsymbol{1}= (R - (\tau/A - R))\boldsymbol{1}</span>,</p>
<p>Since <span class="math inline">V</span> is positive definite the
spectal theorem implies <span class="math inline">V = \sum_i \lambda_i
e_i</span> where <span class="math inline">\lambda_i &gt; 0</span> and
<span class="math inline">\{e_i\}</span> are orthonormal. Its inverse is
<span class="math inline">V^{-1} = \sum_i \lambda_i^{-1} e_i</span>. It
is common for the covariance matrix of a large number of instruments
have most of the eigenvalues, <span
class="math inline">\lambda_i</span>, be small. This implies <span
class="math inline">V^{-1}x</span> is largely determined by the
eigenvectors corresponding to small eigenvalues.</p>
<p>Assume <span class="math inline">X = \boldsymbol{1}+
\sigma\epsilon</span> where <span class="math inline">\epsilon</span> is
a vector of independent standard normally distributed random variables,
so <span class="math inline">E[X] = \boldsymbol{1}</span> and <span
class="math inline">\operatorname{Var}(X) = \sigma^2 I</span>. Clearly
this is not amenable to any sort of portfolio optimization. Since <span
class="math inline">(\tau V)^{-1}E[X] =
\boldsymbol{1}/\tau\sigma^2</span> We have <span class="math inline">B =
n/\tau\sigma^2</span>. Since <span class="math inline">\boldsymbol{1}=
E[X]</span>, <span class="math inline">A = B</span> so <span
class="math inline">\lambda = (\tau/(n/\tau\sigma^2) - 1) = 1/n\sigma^2
- 1</span>.</p>
</section>
<section id="notes" class="level2">
<h2>NOTES</h2>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document"
role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>Recall <span class="math inline">A^B = \{f\colon B\to
A\}</span> is the set of all functions from the set <span
class="math inline">B</span> to the set <span
class="math inline">A</span>. We prefer the notation <span
class="math inline">x\in\boldsymbol{R}^I</span> to the circumloqution
<span class="math inline">x\in\boldsymbol{R}^n</span> where <span
class="math inline">I = {i_1,\ldots,i_n}</span> and <span
class="math inline">x = (x_1,\ldots,x_n)\in\boldsymbol{R}^n</span>
corresponds to <span class="math inline">x(i_j) = x_j</span> in <span
class="math inline">\boldsymbol{R}^I</span>.<a href="#fnref1"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>The machinery being the Hahn-Banach theorem or its
finite dimensional version due to Farkas.<a href="#fnref2"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
</body>
</html>
