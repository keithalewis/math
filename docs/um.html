<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Keith A. Lewis" />
  <title>A Unified Model of Derivative Securities</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="math.css" />
  <script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"></script><script>document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body);
  });</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" />
  <!--
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Literata:wght@300&display=swap" rel="stylesheet"> 
  <link href="https://fonts.googleapis.com/css2?family=Markazi+Text:wght@500&display=swap" rel="stylesheet"> 
  -->
</head>
<body>
<header>
<h1 class="title">A Unified Model of Derivative Securities</h1>
<p class="author">Keith A. Lewis</p>
</header>

<blockquote>
<p>Market instruments can be bought or sold at a price and ownership entails cash flows. Shares of instruments can be traded based on available information that accrue to positions. The mark-to-market value and amounts involved with trading correspond to price and cash flows. The Unified Model demonstrates the connection between dynamic trading and how to value, hedge, and manage the risk of a derivative security.</p>
</blockquote>
<blockquote>
<p>It can be used for any portfolio of instruments.</p>
</blockquote>
<blockquote>
<p>Every arbitrage-free model of prices and cash flows is parameterized by a vector-valued martingale whose components are indexed by market instruments and a positive, adapted process called a deflator. If repurchase agreements are available they determine a canonical deflator.</p>
</blockquote>
<p>A <em>derivative security</em> is a contract between two parties: I will give you this on these dates if you will give me that on those dates. Derivatives must have existed since before recorded history. The Nobel prize winning breakthrough of Black, Scholes, and Merton was how to synthesize derivatives by dynamically trading market instruments based on the borrowing cost used to fund the hedge instead of trying to estimate the growth rate of the underlying securities.</p>
<p>This paper provides a unified model for valuing, hedging, and managing the risk of any derivative security. It shows how they can be synthesized by trading market instruments and turns the spotlight on what may be the next Nobel prize winning problem: how should you hedge if you can’t do it continuously?</p>
<p>The Unified Model can also be used for any portfolio of stocks, bonds, convertible bonds, structured products, currencies, commodities, and even other derivatives in the portfolio.</p>
<section id="market-model" class="level2">
<h2>Market Model</h2>
<p>We assume the usual setup, <span class="math inline">\(\langle\Omega, P, (\mathcal{A}_t)_{t\in T}\rangle\)</span>, of a sample space <span class="math inline">\(\Omega\)</span>, a probability measure <span class="math inline">\(P\)</span>, and an increasing filtration of algebras <span class="math inline">\((\mathcal{A}_t)\)</span> over the set of trading times <span class="math inline">\(T\)</span>. If you are not familiar with this see the Notation section below.</p>
<p>Every <em>instrument</em> has a <em>price</em>, <span class="math inline">\(X_t\)</span>, and a <em>cash flow</em>, <span class="math inline">\(C_t\)</span>, at any trading time, <span class="math inline">\(t\in T\)</span>. Instruments are assumed to be perfectly liquid: they can be bought or sold at the given price in any amount. Cash flows are associated with owning an instrument and are almost always 0; stocks have dividends, bonds have coupons, European options have exactly one cash flow at expiration. Futures always have price 0.</p>
<p>A <em>market model</em> specifies <em>prices</em> <span class="math inline">\(X_{t}\colon\mathcal{A}_{t} \rightarrow \bm{R}^{I}\)</span>, and <em>cash flows</em> <span class="math inline">\(C_{t}\colon\mathcal{A}_{t} \rightarrow \bm{R}^{I}\)</span>, where <span class="math inline">\(I\)</span> are the available market instruments.</p>
<p>We use the notation <span class="math inline">\(X\colon\mathcal{A}\to\bm{R}\)</span> to indicate <span class="math inline">\(X\colon\Omega\to\bm{R}\)</span> is <span class="math inline">\(\mathcal{A}\)</span>-measurable. If <span class="math inline">\(\mathcal{A}\)</span> is finite then it is generated by its atoms and <span class="math inline">\(X\)</span> <em>is</em> a function from the atoms of <span class="math inline">\(\mathcal{A}\)</span> to <span class="math inline">\(\bm{R}\)</span>.</p>
</section>
<section id="trading" class="level2">
<h2>Trading</h2>
<p>A <em>trading strategy</em> is a finite collection of strictly increasing stopping times, <span class="math inline">\(\tau_{j}\)</span>, and trades, <span class="math inline">\(\Gamma_{j}:\mathcal{A}_{\tau_{j}} \rightarrow \bm{R}^{I}\)</span> indicating the number of shares to trade in each instrument. Trades accumulate to a <em>position</em>, <span class="math inline">\(\Delta_{t} = \sum_{\tau_{j} &lt; t}\Gamma_{j} = \sum_{s &lt; t}\Gamma_{s}\)</span> where <span class="math inline">\(\Gamma_{s} = \Gamma_{j}\)</span> when <span class="math inline">\(s = \tau_{j}\)</span>. Note a trade at time <span class="math inline">\(t\)</span> is not included in the position at time <span class="math inline">\(t\)</span>; it takes some time for trades to settle.</p>
<p>The <em>value</em> (or <em>mark-to-market</em>) of a position at time <span class="math inline">\(t\)</span> is <span class="math inline">\(V_{t} = \left( \Delta_{t} + \Gamma_{t} \right) \cdot X_{t}\)</span>: what you would get from liquidating your existing position and the trades just executed. The <em>amount</em> generated by the trading strategy at time <span class="math inline">\(t\)</span> is <span class="math inline">\(A_{t} = \Delta_{t} \cdot C_{t} - \Gamma_{t} \cdot X_{t}\)</span>: you receive the cash flows associated with your existing position and pay for the trades just executed.</p>
</section>
<section id="arbitrage" class="level2">
<h2>Arbitrage</h2>
<p>Arbitrage is a trading strategy with <span class="math inline">\(A_{\tau_{0}} &gt; 0\)</span>, <span class="math inline">\(A_{t} \geq 0\)</span> for <span class="math inline">\(t &gt; \tau_{0}\)</span> and <span class="math inline">\(\sum_{j}^{}{\Gamma_{j} = 0}\)</span>; make money on the first trade and never lose until the strategy is closed out.</p>
<p>The Fundamental Theorem of Asset Pricing (FTAP) states there is no arbitrage if and only if there exists a <em>deflator</em>, <span class="math inline">\(D_{t}:\mathcal{A}_{t} \rightarrow \left( 0,\infty \right)\)</span>, with</p>
<p><span class="math display">\[
X_{t}D_{t} = E_t\bigl[X_v D_v + \sum_{t &lt; u \leq v} C_u D_u\bigr].
\]</span> {#eq:1}</p>
<p>We can assume <span class="math inline">\(D_0 = 1\)</span>. If <span class="math inline">\((D_t)\)</span> is a deflator then so is <span class="math inline">\((D_t/D_0)\)</span>.</p>
<p>Note that if there are no cash flows, <span class="math inline">\(C_t = 0\)</span> for all <span class="math inline">\(t \in T\)</span> <span class="math inline">\(X_tD_t\)</span> is a martingale. For an infinite time horizon where the price times the deflator goes to 0, the current price is the expected value of discounted future cash flows, just as in Graham and Dodd valuation.</p>
<p>A consequence of the above and the definition of value and amount is</p>
<p><span class="math display">\[
V_t D_t = E_t\bigl[V_v D_v + \sum_{t &lt; u \leq v}A_u D_u\bigr].
\]</span> {#eq:2}</p>
<p>Note the similarity of the two displayed equations above – value corresponds to price and amount corresponds to cash flow. This is the skeleton key for valuing derivative securities. It shows how dynamic trading can create synthetic market instruments.</p>
<p><strong>Proof</strong>. If <span class="math inline">\(u &gt; t\)</span> is sufficiently small then <span class="math inline">\(X_t D_t = E_t[(X_u + C_u) D_u]\)</span> and <span class="math inline">\(V_t D_t = (\Delta{t} + \Gamma)\cdot X_{t} D_t = \Delta_u\cdot E_t[(X_u + C_u) D_u]\)</span>. Since <span class="math inline">\(\Delta_u\cdot C_u = \Gamma_u\cdot X_u + A_u\)</span> we have <span class="math inline">\(V_t D_t = E_t[(\Delta_u\cdot X_u + \Gamma_u\cdot X_u + A_u) D_u] = E_t[(V_u + A_u)D_u]\)</span>. The displayed formula above follows by induction.</p>
<p>For a trading strategy that closes out, <span class="math inline">\(V_{\tau_0} D_{\tau_0} = E_{\tau_0}[\sum_{t &gt; \tau_{0}}{A_{t}D_{t}] \geq 0}\)</span>. Since <span class="math inline">\(V_{\tau_0} = \Gamma_{\tau_0} \cdot X_{\tau_0}\)</span>, <span class="math inline">\(A_{\tau_0} = - \Gamma_{\tau_0} \cdot X_{\tau_0}\)</span>, and <span class="math inline">\(D_{\tau_0} &gt; 0\)</span> we have <span class="math inline">\(A_{\tau_0} \leq 0\)</span>. This proves the “easy” direction of the Fundamental Theorem of Asset Pricing (FTAP).</p>
<p>There is no need to prove the “hard” direction since we have a large supply of arbitrage free models – every arbitrage-free model has the form <span class="math inline">\(X_{t}D_{t} = M_{t} - \sum_{s \leq t}{C_{s}D_{s}}\)</span> where <span class="math inline">\(M_{t}:\mathcal{A}_{t} \rightarrow \bm{R}^{I}\)</span> is a martingale and <span class="math inline">\(D_{t}:\mathcal{A}_{t} \rightarrow (0,\infty)\)</span>. This is immediate by substituting <span class="math inline">\(X_{v}D_{v} = M_v - \sum_{s\le v} C_s D_s\)</span> in the first displayed equation.</p>
</section>
<section id="valuing" class="level2">
<h2>Valuing</h2>
<p>If a derivative security pays amounts <span class="math inline">\(\bar{A}_j\)</span> at times <span class="math inline">\(\bar{\tau}_j\)</span> and there is a hedge, <span class="math inline">\((\Gamma_t)_{t\in T}\)</span>, that replicates these amounts, the value of the derivative is the cost of setting up the initial hedge: <span class="math inline">\(V_0 = \Gamma_0\cdot X_0\)</span>. The hedge must satisfy <span class="math inline">\(A_t = 0\)</span> if <span class="math inline">\(t\not=\bar{\tau}_j\)</span> for all <span class="math inline">\(j\)</span> (<em>self financing</em>) and <span class="math inline">\(A_t = \bar{A}_j\)</span> if <span class="math inline">\(t = \bar{\tau}_j\)</span> for some <span class="math inline">\(j\)</span>.</p>
<p>The formula <span class="math inline">\(V_0 = E[\sum_j \bar{A}_j D_{\bar{\tau}_j}]\)</span> is the value of the initial hedge, <span class="math inline">\(\Gamma_0\cdot X_0\)</span>. It can be computed using the derivative security payments, <span class="math inline">\(\bar{A}_j\)</span>, and the deflator.</p>
<p>European options have a single payment, <span class="math inline">\(\bar{A}_T\)</span>, at a fixed time <span class="math inline">\(T\)</span> and have value <span class="math inline">\(V_0 = E \bar{A}_T D_T\)</span>. Sometimes it is useful to compute this as <span class="math inline">\(E \bar{A}_T D_T = E^* \bar{A}_T E D_T\)</span>, where <span class="math inline">\(E^*\)</span> is the expected value under the probability measure defined by <span class="math inline">\(dP^*/dP = D_T/E D_T\)</span>. <span class="math inline">\(P^*\)</span> is called the <em>forward measure</em> at time <span class="math inline">\(T\)</span>.</p>
</section>
<section id="hedging" class="level2">
<h2>Hedging</h2>
<p>The trades at time <span class="math inline">\(t\)</span> are similarly determined by <span class="math inline">\(\Delta_t + \Gamma_t = dV_t/dX_t\)</span>, where the last term is the Fréchet derivative. Since we know the position (<span class="math inline">\(\Delta_t\)</span>) at time <span class="math inline">\(t\)</span> this determines the trades: <span class="math inline">\(\Gamma_t = dV_t/dX_t - \Delta_t\)</span>.</p>
<p>In the continuous time case where stocks are modeled by geometric Brownian motion, this becomes classical Black-Scholes/Merton delta hedging where delta is <span class="math inline">\(\Delta\)</span> and gamma is <span class="math inline">\(\Gamma\)</span>. Under their mathematical assumptions, the hedge perfectly replicates the derivative.</p>
<p>In the real world it is not possible to perfectly replicate the derivative security. There is still research to be done on when to hedge and how to manage the associated risk of imperfect replication.</p>
<p>Cites - Derman, Dupire, etc.</p>
</section>
<section id="black-scholesmerton" class="level2">
<h2>Black-Scholes/Merton</h2>
<p>The Black-Scholes/Merton model of a stock with no dividends (<span class="math inline">\(C_t = 0\)</span> for all <span class="math inline">\(t\)</span>) is specified by the martingale <span class="math inline">\(M_t = (r, s\exp(\sigma B_t - \sigma^2t/2))\)</span> and deflator <span class="math inline">\(D_t = \exp(-\rho t)\)</span>. No need for Ito’s lemma, partial differential equations, or the Hahn-Banach theorem.</p>
</section>
<section id="canonical-deflator" class="level2">
<h2>Canonical Deflator</h2>
<p>There is a canonical choice for a deflator if repurchase agreements are available.</p>
<section id="repurchase-agreement" class="level3">
<h3>Repurchase Agreement</h3>
<p>Assume trades occur at discrete times, as they actually do, so <span class="math inline">\(T = \{t_j\}\)</span> where <span class="math inline">\(t_i &lt; t_j\)</span> if <span class="math inline">\(i &lt; j\)</span>.</p>
<p>A <em>repurchase agreement</em> at time <span class="math inline">\(t_j\)</span>, <span class="math inline">\(R_j\)</span>, has price <span class="math inline">\(X^{R_j}_{t_j} = 1\)</span> and cash flow <span class="math inline">\(C^{R_j}_{t_{j+1}} = R_j\)</span> so for any arbitrage free model <span class="math inline">\(D_{t_j} = E_{t_j}[R_j D_{t_{j+1}}]\)</span>. We assume <span class="math inline">\(D_{t_{j+1}}\)</span> is <span class="math inline">\(\mathcal{A}_{t_j}\)</span> measurable so <span class="math inline">\(D_{t_j} = R_j D_{t_{j+1}}\)</span> and <span class="math inline">\(D_{t_j} = \Pi_{j&lt;n} R_j^{-1}\)</span>.</p>
<p>Define the <em>forward repo rate</em>, <span class="math inline">\(f_j\)</span>, by <span class="math inline">\(R_j = \exp(f_j\,\Delta t_j)\)</span> where <span class="math inline">\(\Delta t_j = t_{j+1} - t_j\)</span>, so <span class="math inline">\(D_{t_j} = \exp(-\sum_{j&lt;n} f_j \Delta_{t_j})\)</span> assuming <span class="math inline">\(D_{t_0} = 1\)</span>. The continuous time version of the <em>canonical deflator</em> is <span class="math inline">\(D_t = \exp(-\int_0^t f_s\,ds)\)</span>.</p>
<p>As we will see below, the prices of all (non-risky) fixed income securities are determined by the deflator.</p>
</section>
<section id="zero-coupon-bond" class="level3">
<h3>Zero Coupon Bond</h3>
<p>A <em>zero coupon bond</em> , <span class="math inline">\(Z(u)\)</span>, pays one unit at maturity <span class="math inline">\(u\)</span> so <span class="math inline">\(C^{Z(u)}_u = 1\)</span> is the only cash flow. An arbitrage free model requires the price at time <span class="math inline">\(t\)</span>, <span class="math inline">\(Z_t(u)\)</span>, to satisfy <span class="math inline">\(Z_t(u)D_t = E_t D_u\)</span>, so <span class="math inline">\(Z_t(u) = E_t D_u/D_t\)</span>. In the continuous time case <span class="math inline">\(Z_t(u) = E_t\exp(-\int_t^u f_s\,ds)\)</span>.</p>
<p>The forward curve, <span class="math inline">\(f(u)\)</span>, is defined by <span class="math inline">\(Z_0(u) = \exp(-\int_0^u f(s)\,ds)\)</span>. The forward curve at time <span class="math inline">\(t\)</span>, <span class="math inline">\(f_t(u)\)</span>, is defined by <span class="math inline">\(Z_t(u) = \exp(-\int_t^u f_t(s)\,ds)\)</span>.</p>
</section>
<section id="futures" class="level3">
<h3>Futures</h3>
<p>A <em>futures</em> on underlying <span class="math inline">\(S\)</span> expiring at <span class="math inline">\(t_n\)</span> has price <span class="math inline">\(X_{t_j} = 0\)</span> for all <span class="math inline">\(j\)</span>, cash flows <span class="math inline">\(C_{t_j} = \Phi_{t_j} - \Phi_{t_{j-1}}\)</span> for <span class="math inline">\(0 &lt; j \le n\)</span>, where <span class="math inline">\(\Phi_{t_j}\)</span> is the futures <em>quote</em> at time <span class="math inline">\(t_j\)</span>, and <span class="math inline">\(\Phi_{t_n} = S_{t_n}\)</span> at expiration. Since <span class="math inline">\(0 = E_{t_j} (\Phi_{t_{j+1}} - \Phi_{t_j}) D_{t_j}\)</span>, we have <span class="math inline">\(\Phi_{t_j} = E_{t_j} \Phi_{t_{j+1}}\)</span> since <span class="math inline">\(D_{t_j} &gt; 0\)</span> is <span class="math inline">\(t_j\)</span> measurable.</p>
<p>This shows futures quotes are martingales. In particular, the futures quote at <span class="math inline">\(t\)</span> on the underlying <span class="math inline">\(X\)</span> expiring at <span class="math inline">\(u\)</span> is <span class="math inline">\(\Phi_t(u) = E_t X_u\)</span>.</p>
</section>
<section id="forward" class="level3">
<h3>Forward</h3>
<p>A <em>forward</em> contract on underlying <span class="math inline">\(S\)</span> with strike <span class="math inline">\(k\)</span> expiring at time <span class="math inline">\(t\)</span> pays <span class="math inline">\(A_t = S_t - k\)</span> at <span class="math inline">\(t\)</span>. It has initial value <span class="math inline">\(V_0 = E[(S_t - k)D_t] = S_0 - kE D_t\)</span>. The <em>par forward</em>, <span class="math inline">\(f\)</span>, is the strike that makes the initial value equal to zero: <span class="math inline">\(0 = V_0 = E(S_t - f)D_t\)</span> so <span class="math inline">\(S_0 = fED_t\)</span>. This formula is called the <em>cost of carry</em>.</p>
</section>
<section id="put-call-parity" class="level3">
<h3>Put-Call Parity</h3>
<p>The first thing every trader checks when using a new model is <em>put-call parity</em>. A (European) <em>put option</em> on underlying <span class="math inline">\(S\)</span> with strike <span class="math inline">\(k\)</span> expiring at time <span class="math inline">\(t\)</span> pays <span class="math inline">\(A^p_t = \max\{k - S_t,0\}\)</span> at <span class="math inline">\(t\)</span>. A <em>call option</em> on underlying <span class="math inline">\(S\)</span> with strike <span class="math inline">\(k\)</span> expiring at time <span class="math inline">\(t\)</span> pays <span class="math inline">\(A^c_t = \max\{S_t - k, 0\}\)</span> at <span class="math inline">\(t\)</span>. Since <span class="math inline">\(A^c_t - A^p_t = S_t - k\)</span> we have <span class="math inline">\(V^c_0 - V^p_0 = c - p = S_0 - k ED_t\)</span>, where <span class="math inline">\(c\)</span> and <span class="math inline">\(p\)</span> are the value of the call and put at time 0. This result is independent of any (arbitrage-free) model.</p>
<section id="american-option" class="level4">
<h4>American Option</h4>
<p>An American option with strike <span class="math inline">\(k\)</span> and expiration <span class="math inline">\(t\)</span> pays <span class="math inline">\(A_\tau\)</span> at a stopping time <span class="math inline">\(\tau\le t\)</span> at the discretion of the option holder. In the unified model this is represented by extending the sample space <span class="math inline">\(\Omega\)</span> to <span class="math inline">\(\Omega\times (0,t]\)</span>. The point <span class="math inline">\((\omega,\tau)\)</span> represents exercising at time <span class="math inline">\(\tau\)</span> when <span class="math inline">\(\omega\)</span> occurs. Note that the model does not assume the option is exercised at the “optimal” time. In practice, not every market participant does this.</p>
<p>American options do not satisfy put-call parity in general. The exercise time of the put and the call are usually different.</p>
</section>
</section>
</section>
<section id="fixed-income" class="level2">
<h2>Fixed Income</h2>
<p>A <em>fixed income</em> instrument is specified by cash flows <span class="math inline">\((c_j)\)</span> at times <span class="math inline">\((u_j)\)</span>. This is just a portfolio of zero coupon bonds so its <em>present value</em> is <span class="math inline">\(p = \sum_j c_j Z(u_j)\)</span>. The present value at time <span class="math inline">\(t\)</span> is <span class="math inline">\(p_t = \sum_j c_j Z_t(u_j)\)</span>.</p>
<section id="libor-market-model" class="level3">
<h3>LIBOR Market Model</h3>
<p>Assuming discrete times <span class="math inline">\((t_j)\)</span>, the deflator is determined by the joint distribution of the repo rates <span class="math inline">\(F_j = F_{t_j}\)</span> over <span class="math inline">\([t_j, t_{j+1})\)</span>. (We use capital <span class="math inline">\(F\)</span> instead of lower case <span class="math inline">\(f\)</span> to indicate it is a random variable.)</p>
<p>The LIBOR Market model assumes the forwards are jointly lognormal, <span class="math display">\[
    F_j = \phi(t_j)\exp(\Sigma_j\cdot B_{t_j} - ||\Sigma_j||^2 t_j/2),
\]</span> where <span class="math inline">\(\phi(t_j) = E f_j\)</span> is the futures quote, <span class="math inline">\(\sigma_j\)</span> is a vector with norm equal to the at-the-money caplet volatility, and <span class="math inline">\(B_t\)</span> is vector-valued Brownian motion. A nice feature of this model is that the forward curve and at-the-money caplet prices are not affected by the individual components of the volatility vectors.</p>
<p>A common parameteration for the volatilities is <span class="math inline">\(\Sigma(t) = \sigma(t)(\cos\alpha t, \sin\alpha t)\)</span> for some parameter <span class="math inline">\(\alpha\)</span>. Clealy <span class="math inline">\(||\Sigma(t)|| = sigma(t)\)</span>. This can be used to fit, e.g., one swaption price. Note <span class="math inline">\(\Sigma\cdot B_t = \sigma(B_t^0\cos(\alpha t) + B_t^1\sin(\alpha t)\)</span> and <span class="math inline">\(\Cov(B_t,B_u) = t\cos(\alpha(u-t))\)</span> for <span class="math inline">\(t &lt; u\)</span>.</p>
<p>The futures are determined by the forwards and volatilities; <span class="math inline">\(\phi(t) = f(t) + \sigma(t)^2 t^2/2\)</span>.</p>
</section>
<section id="forward-rate-agreement" class="level3">
<h3>Forward Rate Agreement</h3>
<p>A <em>forward rate agreement</em> over the period <span class="math inline">\([u, v]\)</span> with coupon <span class="math inline">\(f\)</span> and day count basis <span class="math inline">\(\delta\)</span> pays <span class="math inline">\(-1\)</span> unit at the <em>effective date</em> <span class="math inline">\(u\)</span>, and <span class="math inline">\(1 + f\delta(u,v)\)</span> at the <em>termination date</em> <span class="math inline">\(v\)</span>, where <span class="math inline">\(\delta(u,v)\)</span> is the <a href="https://en.wikipedia.org/wiki/Day_count_convention"><em>day count fraction</em></a> for the interval. The day count fraction is approximately equal to the time in years from <span class="math inline">\(u\)</span> to <span class="math inline">\(v\)</span> for any day count basis.</p>
<p>The <em>forward par coupon</em> at time <span class="math inline">\(t\)</span>, <span class="math inline">\(F_t(u,v;\delta)\)</span> is the coupon that makes the price at time <span class="math inline">\(t\le u\)</span> equal to <span class="math inline">\(0\)</span>: <span class="math inline">\(0 = E_t[-D_u + (1 + F_t(u,v;\delta)\delta(u,v))D_v]\)</span>. Hence the par coupon <span class="math display">\[
F_t(u,v;\delta) = (Z_t(u)/Z_t(v) - 1)/\delta(u,v)
\]</span> is determined by zero coupon bond prices. Note, writing <span class="math inline">\(F_t = F_t(u,v;\delta)\)</span> and <span class="math inline">\(\delta = \delta(u,v)\)</span>, <span class="math display">\[
E_t F_t\delta D_v = F_t\delta E_t D_v = E_t[D_u - D_v] = Z_t(u) - Z_t(v)
\]</span></p>
<p>There are also forward rate agreements not involving the exchange of notional. A (fixed rate) <em>payer</em> has the single cash flow <span class="math inline">\((f - F_u(u,v;\delta))\delta(u,v)\)</span> at time <span class="math inline">\(v\)</span>. A <em>receiver</em> has the negative of this cash flow. The value at any time <span class="math inline">\(t \le u\)</span> is determined by</p>
<!--
f delta - F delta' if different day count basis
-->
<p></p>
<p>which is the same as for a forward rate agreement that does exchange notional. These two types of FRAS’s have very different risk characteristics. If either counter-party defaults during the time notionals are exchanged the loss can be much larger than when the payment is only the difference of the fixed and floating rate.</p>
</section>
<section id="interest-rate-swap" class="level3">
<h3>Interest Rate Swap</h3>
<p>An <em>interest rate swap</em> with <em>calculation dates</em> <span class="math inline">\((t_j)_{j=0}^n\)</span> with coupon <span class="math inline">\(c\)</span>, and day count basis <span class="math inline">\(\delta\)</span> pays <span class="math inline">\(-1\)</span> unit at the effective date <span class="math inline">\(t_0\)</span>, <span class="math inline">\(c\delta(t_{j-1},t_j)\)</span> at <span class="math inline">\(t_j\)</span>, <span class="math inline">\(0 &lt; j &lt; n\)</span>, and <span class="math inline">\(1 + c\delta(t_{n-1},t_n)\)</span> at <em>termination</em> <span class="math inline">\(t_n\)</span>.</p>
<p>The <em>swap par coupon</em> at time <span class="math inline">\(t\)</span>, <span class="math inline">\(F_t(t_0,\ldots,t_n;\delta)\)</span>, is the coupon that makes the price at time <span class="math inline">\(t\le {t_0}\)</span> equal to <span class="math inline">\(0\)</span>: <span class="math display">\[
0 = E_t[-D_{t_0} + \sum_{0&lt;j&lt;n} F_t\delta(t_{j-1},t_j) D_{t_j} + (1 + F_t\delta(t_{n-1},t_n) D_{t_n}].
\]</span> Hence the par coupon, <span class="math inline">\(F_t(t_0,\ldots,t_n;\delta) = (Z_t(t_0) - Z_t(t_n))/\sum_{0&lt;j\le n}\delta(t_{j-1},t_j) Z_t(t_j)\)</span>, is determined by zero coupon bond prices.</p>
<p>Note that if <span class="math inline">\(n = 1\)</span> this is identical to a forward rate agreement.</p>
<p>There are also interest rate swaps not involving the exchange of notional. A (fixed rate) <em>payer</em> has the cash flows <span class="math inline">\((c - F_{t_j}(t_{j-1},t_j;\delta))\delta(t_{j-1},t_j)\)</span> at times <span class="math inline">\(t_j\)</span>, <span class="math inline">\(0 &lt; j \le n\)</span>. A <em>receiver</em> has the negative of these cash flow.</p>
<p>As with forward rate agreements, the coupon making the value at time <span class="math inline">\(t\)</span> equal to zero is the swap par coupon.</p>
</section>
<section id="floorlet" class="level3">
<h3>Floorlet</h3>
<p>A <em>floorlet</em> is a put option on an at-the-money <em>forward rate agreement</em>. It pays <span class="math inline">\(\max\{k - F_u(u,v),0\}\delta(u,v)\)</span> at time <span class="math inline">\(v\)</span>. Its value at time <span class="math inline">\(t &lt; u\)</span> is determined by <span class="math inline">\(V_t D_t = E_t \max\{k - F_u(u,v),0\}\delta(u,v) D_u\)</span>. Writing <span class="math inline">\(F_u = F_u(u,v)\)</span> and <span class="math inline">\(\delta = \delta(u,v)\)</span> we have</p>
<p> where <span class="math inline">\(E_t^*\)</span> is the expectation under the forward measure <span class="math inline">\(P^*\)</span> defined by <span class="math inline">\(dP_t^*/dP_t = D_v/E_t D_v\)</span>. This shows the value at <span class="math inline">\(t\)</span> of a floorlet is <span class="math inline">\(V_t = E^*_t[\max\{1 + k\delta - 1/Z_u(v),0\}] Z_t(v)\)</span>.</p>
</section>
<section id="caplet" class="level3">
<h3>Caplet</h3>
<p>A <em>caplet</em> is a call option on an at-the-money <em>forward rate agreement</em>. It pays <span class="math inline">\(\max\{F_u(u,v) - k,0\}\delta(u,v)\)</span> at time <span class="math inline">\(v\)</span>. Its value at time <span class="math inline">\(t &lt; u\)</span> is determined by <span class="math inline">\(V_t D_t = E_t \max\{F_u(u,v) - k,0\}\delta(u,v) D_u\)</span>. Similar to floorlets, the value at <span class="math inline">\(t\)</span> of a caplet is <span class="math inline">\(V_t = E^*_t[\max\{1/Z_u(v) - (1 + k\delta),0\}] Z_t(v)\)</span></p>
</section>
<section id="floor-cap" class="level3">
<h3>Floor, Cap</h3>
<p>A <em>floor</em> and a <em>cap</em> are just a sequence of back-to-back floorlets or caplets.</p>
</section>
<section id="swaption" class="level3">
<h3>Swaption</h3>
<p>A <em>swaption</em> is an option on a swap. It has a single cash flow <span class="math inline">\(\max\{k - F_{t_0}(t_0,\ldots,t_n;\delta), 0\}\)</span> at the effective date of the swap, <span class="math inline">\(t_0\)</span>.</p>
</section>
</section>
<section id="remarks" class="level2">
<h2>Remarks</h2>
<p>The price of an instrument is not a number. Not only does it depend on whether you are buying or selling, the amount being purchased, and the counter-parties involved, determine the price.</p>
<p>The atoms of finance are <em>exchanges</em>: <span class="math inline">\((t;a,i,c;a&#39;,i&#39;,c&#39;)\)</span>, where <span class="math inline">\(t\)</span> is the time of the exchange, <span class="math inline">\(a\)</span> is the amount of instrument <span class="math inline">\(i\)</span> the <em>buyer</em>, <span class="math inline">\(c\)</span>, decides to obtain for the amount <span class="math inline">\(a&#39;\)</span> in instrument <span class="math inline">\(i&#39;\)</span> from the <em>seller</em>, <span class="math inline">\(c&#39;\)</span>. <span class="math inline">\(a&#39;\)</span> in instrument <span class="math inline">\(i&#39;\)</span> from the <em>seller</em>, <span class="math inline">\(c&#39;\)</span>.</p>
<p>We can incorporate more realistic features by defining <em>price</em> to be a function <span class="math inline">\(X\colon T\times A\times I\times C\times I\times C\to \bm{R}\)</span>, where <span class="math inline">\(T\)</span> is the set of trading times, <span class="math inline">\(A\)</span> the set of amounts that can be traded, <span class="math inline">\(I\)</span> is the set of market instruments, and <span class="math inline">\(C\)</span> is the set of legal trading entities. The exchanges available to the buyer at any time <span class="math inline">\(t\)</span> are <span class="math inline">\((t;a,i,c;aX(t;a,i;i&#39;,c&#39;),i&#39;,c&#39;)\)</span></p>
<section id="one-period-model" class="level3">
<h3>One Period Model</h3>
<p>There is no need for probability measures: the Fundamental Theorem of Asset Pricing is a geometric result. In the one period case where <span class="math inline">\(T = \{t_0,t_1\}\)</span> the no arbitrage condition is there does not exist <span class="math inline">\(\Gamma_0\)</span> with <span class="math inline">\(A_0 = -\Gamma_0\cdot X_0 &gt; 0\)</span> and <span class="math inline">\(A_1 = \Gamma_0\cdot X_1\ge 0\)</span>.</p>
<p>In this case the FTAP states there is no arbitrage if and only if there exists a positive measure, <span class="math inline">\(\Pi\)</span>, on <span class="math inline">\(\Omega\)</span> with <span class="math inline">\(X_0 = \int_\Omega X_1\,d\Pi\)</span>.</p>
<p>If <span class="math inline">\(X_0\)</span> belongs to the smallest closed cone containing the range of <span class="math inline">\(X_1\)</span>, then there exists a positive measure, <span class="math inline">\(\Pi\)</span>, with <span class="math inline">\(X_0 = \int_\Omega X_1\,d\Pi\)</span>. For any <span class="math inline">\(\gamma\in\bm{R}^I\)</span> such that <span class="math inline">\(\gamma\cdot X_1\ge0\)</span> we have <span class="math inline">\(\gamma\cdot X_0 = \int_\Omega \gamma\cdot X_1\,d\Pi \ge0\)</span> hence there can be no arbitrage.</p>
<p>If <span class="math inline">\(X_0\)</span> does not belong to the smallest closed cone containing the range of <span class="math inline">\(X_1\)</span>, then there exists a hyperplane through the origin separating <span class="math inline">\(X_0\)</span> from the cone. E.g., if <span class="math inline">\(x\)</span> is the closest point in the cone to <span class="math inline">\(X_0\)</span> then <span class="math inline">\(\gamma = x - X_0\)</span> will do the job. Let <span class="math inline">\(\gamma\)</span> be a vector in <span class="math inline">\(\bm{R}\)</span> normal to the hyperplane. We can choose <span class="math inline">\(\gamma\)</span> such that <span class="math inline">\(\gamma\cdot X_0 &lt; 0\)</span> and <span class="math inline">\(\gamma\cdot X_1(\omega) \ge0\)</span> for all <span class="math inline">\(\omega\in\Omega\)</span>. This shows arbitrage exists.</p>
<p>If a zero coupon bond exists, i.e., there is a <span class="math inline">\(\zeta\in\bm{R}^I\)</span> with <span class="math inline">\(\zeta\cdot X_1(\omega) = 1\)</span> for all <span class="math inline">\(\omega\in\Omega\)</span>, then <span class="math inline">\(\zeta\cdot X_0 = \int_\Omega \zeta\cdot X_1\,d\Pi = ||\Pi|| = z\)</span> is the price of the zero coupon bond and <span class="math inline">\(P = \Pi/z\)</span> is a probability measure.</p>
<!--
### One Period Model Again

Recall the _dual_ of the space of bounded
functions on a set $\Omega$, $B(\Omega)$, is the space of finitely additive
measures on $\Omega$, $ba(\Omega)$.
-->
<!-- cite Dunford Schwartz -->
<!--

Let's assume $X_1\in B(\Omega,\RR^I)$, the set of bounded functions from
$\Omega$ to $\RR^I$. Consider the map $A\colon \RR \oplus B(\Omega)\to\RR^2$
defined by $\Gamma \mapsto (-\Gamma\cdot X_0, \Gamma\cdot X_1)$. No arbitrage
says the range of $A$ does not intersect the cone $\{p \oplus P):p > 0, P\ge 0\}$.
Since the cone has an interior point, the Hahn-Banach theorem implies there exists
a hyperplane that does not intersect the cone. The hyperplane is the kernel of
an element in the dual space $B^* = \RR\oplus ba(\Omega)$, where
$ba(\Omega)$ is the space of finitely additive measures. Call this element
$\pi\oplus\Pi$. We may assume $\pi = 1$.

The adjoint of $A$, $A^*\colon 

### Multi Period Model

The proof above generalizes to the multi-period case...
-->
</section>
</section>
<section id="notation" class="level2">
<h2>Notation</h2>
<p>If <span class="math inline">\(\mathcal{A}\)</span> is an <a href="https://en.wikipedia.org/wiki/Algebra_of_sets"><em>algebra</em></a> on the set <span class="math inline">\(\Omega\)</span> we write <span class="math inline">\(X\colon\mathcal{A}\to\bm{R}\)</span> to indicate <span class="math inline">\(X\colon\Omega\to\bm{R}\)</span> is <span class="math inline">\(\mathcal{A}\)</span>-<a href="https://en.wikipedia.org/wiki/Measurable_function"><em>measurable</em></a>. If <span class="math inline">\(\mathcal{A}\)</span> is finite then the <a href="https://en.wikipedia.org/wiki/Atom_(measure_theory)"><em>atoms</em></a> of <span class="math inline">\(\mathcal{A}\)</span> form a <a href="https://en.wikipedia.org/wiki/Partition_of_a_set"><em>partition</em></a> of <span class="math inline">\(\Omega\)</span> and being measurable is equivalent to being constant on atoms. In this case <span class="math inline">\(X\)</span> is indeed a function on the atoms.</p>
<p>If <span class="math inline">\(\mathcal{A}\)</span> is an algebra of sets, the <a href="https://en.wikipedia.org/wiki/Conditional_expectation"><em>conditional expectation</em></a> of <span class="math inline">\(X\)</span> given <span class="math inline">\(\mathcal{A}\)</span> is defined by <span class="math inline">\(Y = E\left\lbrack X | \mathcal{A}\right\rbrack\)</span> if and only if <span class="math inline">\(Y\)</span> is <span class="math inline">\(\mathcal{A}\)</span> measurable and <span class="math inline">\(\int_A Y\,dP = \int_A X\,dP\)</span> for all <span class="math inline">\(A\in\mathcal{A}\)</span>. This is equivalent to <span class="math inline">\(Y(P|_\mathcal{A}) = (XP)|_\mathcal{A}\)</span> where the vertical bar indicates restriction of a measure.</p>
<p>A <em>filtration</em> indexed by <span class="math inline">\(T\subseteq [0,\infty)\)</span> is an increasing collection of algebras, <span class="math inline">\((\mathcal{A}_t)_{t\in T}\)</span>. A process <span class="math inline">\(M_{t}\colon\mathcal{A}_{t} \rightarrow \bm{R}\)</span>, <span class="math inline">\(t\in T\)</span>, is a <em>martingale</em> if <span class="math inline">\(M_t = E[M_u | \mathcal{A}_t] = E_t[M_u]\)</span> for <span class="math inline">\(t\le u\)</span>.</p>
<p>A <em>stopping time</em> is a function <span class="math inline">\(\tau\colon\Omega\to T\)</span> such that <span class="math inline">\(\{\omega\in\Omega\mid \tau(\omega) \le t\}\)</span> belongs to <span class="math inline">\(\mathcal{A}_t\)</span>, <span class="math inline">\(t\in T\)</span>.</p>
</section>
<footer>
Return to <a href="index.html">index</a>.
</footer>
</body>
</html>
