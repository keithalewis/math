<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Keith A. Lewis" />
  <meta name="dcterms.date" content="2022-11-16" />
  <title>Fixed Income</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="math.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&family=STIX+Two+Text&display=swap" rel="stylesheet">
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: true
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Fixed Income</h1>
<p class="author">Keith A. Lewis</p>
<p class="date">November 16, 2022</p>
<div class="abstract">
<div class="abstract-title">Abstract</div>
Constant cash flows
</div>
</header>

<section id="fixed-income" class="level2">
<h2>Fixed Income</h2>
<p>A <em>fixed income</em> instrument is specified by cash flows <span
class="math inline">(c_j)</span> at times <span
class="math inline">(u_j)</span>. This is just a portfolio of zero
coupon bonds so its <em>present value</em> is <span
class="math inline">P = \sum_j c_j D(u_j)</span> where <span
class="math inline">D(u)</span> is the discount to time <span
class="math inline">u</span>. The present value at time <span
class="math inline">t</span> is <span class="math inline">P_t =
\sum_{u_j &gt; t} c_j D_t(u_j)</span> where <span
class="math inline">D_t(u)</span> is the price at time <span
class="math inline">t</span> of a zero coupon bond maturing at <span
class="math inline">u</span>.</p>
<section id="zero-coupon-bond" class="level3">
<h3>Zero Coupon Bond</h3>
<p>A <em>zero coupon bond</em>, <span class="math inline">D(u)</span>,
pays one unit at maturity <span class="math inline">u</span> so <span
class="math inline">C^{D(u)}_u = 1</span> is the only cash flow. We
write <span class="math inline">D_t(u)</span> for the price <span
class="math inline">X_t^{D(u)}</span> of the zero coupon bond at time
<span class="math inline">t</span>. An arbitrage free model with
deflator <span class="math inline">D_t</span> requires the price at time
<span class="math inline">t</span> to satisfy <span
class="math inline">D_t(u)D_t = E_t[D_u]</span> so <span
class="math display">
    D_t(u) = E_t[D_u]/D_t.
</span></p>
<p>We can write <span class="math inline">D_t = \exp(-\int_0^t
f_s\,ds)</span> where <span class="math inline">f_t</span> is the
<em>continuously compounded forward rate</em>, or <em>short rate</em>
process. It corresponds to repurchase agreement rates.</p>
<p><strong>Exercise</strong>. <em>Show <span class="math inline">D_t(u)
= E_t[\exp(-\int_t^u f(s)\,ds)]</span></em>.</p>
<p>An interesting feature of fixed income is that the short rate
determines the price dynamics of all instruments, assuming there are no
defaults.</p>
</section>
</section>
<section id="discount-curve" class="level2">
<h2>Discount Curve</h2>
<p>Suppose a fixed income instrument pays cash flows <span
class="math inline">(c_k)</span> at times <span
class="math inline">(u_k)</span>. The <em>yield</em>, <span
class="math inline">y(p)</span>, given a price <span
class="math inline">p</span> is determined by <span
class="math inline">p = \sum_k c_k e^{-y(p)u_k}</span>. It is the
constant forward curve that reprices the fixed income instrument. It is
a convenient proxy for price, just like Black-Scholes/Merton implied
volatility.</p>
<p>It is not the case zero coupon bonds of all maturities are traded.
The <em>discount curve</em> <span class="math inline">D(t)</span> is
used to interpolate a discount for all maturities. An instrument with
cash flows <span class="math inline">(c_k)</span> at times <span
class="math inline">(u_k)</span> and price <span
class="math inline">p</span> <em>fits</em> the curve if <span
class="math inline">p = \sum_k c_k D(u_k)</span>. Typically a collection
of such intruments and prices are given and we wish to find a discount
curve that fits all of them. This is a highly underdetermined problem
and there is a vast literature on various methods of interpolation. The
simplest approach is to use market data directly and avoid non-financial
artifacts introduced by various splining methods.</p>
<section id="bootstrap" class="level3">
<h3>Bootstrap</h3>
<p>Given a collection of fixed income instruments ordered by increasing
maturity and corresponding prices we can bootstrap a discount curve
having a piecewise constant forward curve that matches each price. The
first forward is the yield of the first instrument. Given a discount to
time <span class="math inline">t</span> and a forward rate <span
class="math inline">f</span> we can extend the discount for <span
class="math inline">u &gt; t</span> by <span class="math inline">D(u) =
D(t)e^{-f(u - t)}</span>.</p>
<p>The bootstrap method is deterministic. It assumes the forward curve
is piecewise constant with jumps at maturities of instruments used to
build the curve. As instruments of increasing maturity are added, the
initial part of the curve is fixed and the new constant segment is
chosen to match the price of the instrument being added. It is important
that no two instruments have nearly equal maturity since the forward
between those dates may require a large adjustment to fit the price.</p>
<p>The vast literature on various methods of interpolating discount
curves should be ignored. Splining introduces mathematical artifacts
into the discount. A cubic Hermite tension spline can produce a forward
curve that is pleasing to the eye, but makes it difficult to explain to
a trader why their rho bucketing is off. It is better to add synthetic
instruments at intermediate maturities with prices determined by an
interpolation method that traders can understand. Curves should be
bootstrapped with the instruments traders are using to hedge their
position.</p>
<p>A piecewise constant curve is determined by times <span
class="math inline">(t_j)</span>, <span class="math inline">0\le j\le
n</span>, and forwards <span class="math inline">(f_j)</span>, <span
class="math inline">0 &lt; j \le n</span>, where <span
class="math inline">f(t) = f_j</span> for <span
class="math inline">t_{j-1} &lt; t \le t_j</span>. Note <span
class="math inline">f(t_j) = f_j</span> and the curve is undefined for
<span class="math inline">t &gt; t_n</span>. We assume <span
class="math inline">t_0 = 0</span> so <span class="math inline">(t_j,
f_j)</span>, <span class="math inline">1\le j\le n</span>, determine the
curve.</p>
<p>Given a forward curve to time <span class="math inline">t_n</span>
and an instrument with maturity <span class="math inline">t &gt;
t_n</span> we must find <span class="math inline">f</span> such that
<span class="math display">
    p = \sum_{u_k \le t_n} c_k D(u_k) + \sum_{u_k &gt; t_n} c_k
D(t_n)e^{-f(u_k - t_n)}
</span> where <span class="math inline">p</span> is the instrument
price. The discount <span class="math inline">D(u)</span> is determined
for <span class="math inline">u \le t_n</span> and the forward <span
class="math inline">f</span> is constant for <span class="math inline">u
&gt; t_n</span>. This can be solved using one-dimensional root finding
to produce the next point <span class="math inline">(t_{n+1}, f_{n+1}) =
(t, f)</span> of the piecewise constant forward curve where <span
class="math inline">t</span> is the maturity of the added instument.</p>
<p>If there is exactly one cash flow past <span
class="math inline">t_n</span>, <span class="math inline">(c, u)</span>,
then this equation has a closed form solution since the second sum has
only one term <span class="math inline">c D(t_n)e^{-f(u - t_n)}</span>.
Denoting the first sum by <span class="math inline">p_n</span> we have
<span class="math display">
    f = \frac{-\log((p - p_n)/c D(t_n))}{u - t_n}
</span> given price <span class="math inline">p</span> to produce the
next point <span class="math inline">(t_{n+1}, f_{n+1}) = (u,
f)</span>.</p>
<p>If we extend the curve with an instrument having exactly two cash
flows <span class="math inline">(c_0, u_0)</span> and <span
class="math inline">(c_1, u_1)</span> then there are also closed form
solutions. Since <span class="math inline">u_1 &gt; t_n</span> we have
two cases, <span class="math inline">u_0 \le t_n</span> and <span
class="math inline">u_0 &gt; t_n</span>. If <span
class="math inline">u_0 \le t_n</span> then <span
class="math inline">D(u_0)</span> is known and we have <span
class="math inline">p = p_n + c_0 D(u_0) + c_1 D(t_n)e^{-f(u_1 -
t_n)}</span> so <span class="math display">
    f = \frac{-\log((p - p_n - c_0 D(u_0))/c_1 D(t_n))}{u_1 - t_n}.
</span> If <span class="math inline">u_0 &gt; t_n</span> we have <span
class="math inline">p = p_n + c_0 D(t_n)e^{-f(u_0 - t_n)} + c_1
D(t_n)e^{-f(u_1 - t_n)}</span>.</p>
<p><strong>Exercise</strong>. <em>Find an explicit formula for <span
class="math inline">f</span></em>.</p>
<!--
Add zero.
Add with one cash flow after $t_n$.
Add atm forward with one or two cash flows after $t_n$

### Forward Rate Agreement

A _forward rate agreement_ $F^{f,δ}(u,v)$ over the period $[u, v]$ with coupon $f$ and
_day count basis_ $δ$ pays $-1$ unit at the
_effective date_ $u$, and $1 + fδ(u,v)$ at the
_termination date_ $v$, where $δ(u,v)$ is the [_day count
fraction_](https://en.wikipedia.org/wiki/Day_count_convention) for the
period.  The day count fraction is approximately equal to the time in years
between $u$ and $v$ for any day count basis.

The _forward par coupon_ at time $t$, $F_t^{f,δ}(u,v)$ is the coupon that makes the price at
time $t\le u$ equal to $0$. Since $0 = E_t[-D_u + (1 + F_t^δ(u,v)δ(u,v))D_v]$
the par coupon is
$$
    F_t^δ(u,v) = (D_t(u)/D_t(v) - 1)/δ(u,v).
$$
Writing $F_t = F_t^δ(u,v)$ and $δ = δ(u,v)$ we have
$$
    E_t[F_tδ D_v] = F_tδ E_t[D_v] = E_t[D_u - D_v] = D_t(u) - D_t(v)
$$


There are also forward rate agreements not involving the exchange of notional. A
(fixed rate) _payer_ FRA has the single cash flow $(f - F_u^δ(u,v))δ(u,v)$ at time $v$.
A _receiver_ FRA has the negative of this cash flow. The value at any time $t \le u$ is
determined by


\begin{align*}
V_t D_t &= E_t[(f - F_u(u,v;δ))δ(u,v) D_v] \\
        &= E_t[fδ(u,v) D_v - E_u[D_u - D_v]]  \\
        &= E_t[fδ(u,v) D_v - D_u + D_v]  \\
        &= E_t[-D_u + (1 + fδ(u,v)) D_v] \\
\end{align*}

which is the same as for a forward rate agreement that does exchange notional.
These two types of FRAS's have very different risk characteristics.
If either counter-party defaults during the time notionals are exchanged the loss can
be much larger than when the payment is only the difference of the fixed and floating rate.

### Interest Rate Swap

An _interest rate swap_ $F^{c,δ}(t_0, \ldots, t_n)$ with _calculation
dates_ $(t_j)$, coupon $c$, and day count basis $δ$ pays $-1$ unit
at the effective date $t_0$, $cδ(t_{j-1},t_j)$ at $t_j$, $0 < j < n$,
and $1 + cδ(t_{n-1},t_n)$ at _termination_ $t_n$.

The _swap par coupon_ at time $t$, $F_t(t_0,\ldots,t_n;δ)$,
 is the coupon that makes the price at
time $t\le {t_0}$ equal to $0$:
$$
0 = E_t[-D_{t_0} + \sum_{0<j<n} F_tδ(t_{j-1},t_j) D_{t_j} + (1 + F_tδ(t_{n-1},t_n) D_{t_n}].
$$
Hence the par coupon,
$F_t(t_0,\ldots,t_n;δ) = (D_t(t_0) - D_t(t_n))/\sum_{0<j\le n}δ(t_{j-1},t_j) D_t(t_j)$,
is determined by zero coupon bond prices.

Note that if $n = 1$ this is identical to a forward rate agreement.

There are also interest rate swaps not involving the exchange of notional. A
(fixed rate) _payer_ has the cash flows $(c - F_{t_j}(t_{j-1},t_j;δ))δ(t_{j-1},t_j)$ at times $t_j$,
$0 < j \le n$.
A _receiver_ has the negative of these cash flow.

As with forward rate agreements, the coupon making the value at time $t$ equal to zero is
the swap par coupon.

### Floorlet

Options on FRA's are called floorlets or caplets.

A _floorlet_ is a put option on an at-the-money _forward rate agreement_.
It pays $\max\{k - F_u(u,v),0\}δ(u,v)$ at time $v$.
Its value at time $t < u$ is determined by $V_t D_t = E_t \max\{k - F_u(u,v),0\}δ(u,v) D_u$.
Writing $F_u = F_u(u,v)$ and $δ = δ(u,v)$ we have

\begin{align*}
V_t D_t &= E_t[\max\{k - F_u,0\}δ D_v] \\
        &= E_t[\max\{kδ - (1/D_u(v) - 1),0\} D_v] \\
        &= E_t[\max\{1 + kδ - 1/D_u(v),0\} D_v] \\
        &= E^*_t[\max\{1 + kδ - 1/D_u(v),0\}] E_tD_v \\
        &= E^*_t[\max\{1 + kδ - 1/D_u(v),0\}] D_t(v)D_t \\
\end{align*}
where $E_t^*$ is the expectation under the forward measure $P^*$ defined
by $dP_t^*/dP_t = D_v/E_t D_v$.
This shows the value at $t$ of a floorlet is
$V_t = E^*_t[\max\{1 + kδ - 1/D_u(v),0\}] D_t(v)$.

### Caplet

A _caplet_ is a call option on an at-the-money _forward rate agreement_.
It pays $\max\{F_u(u,v) - k,0\}δ(u,v)$ at time $v$.
Its value at time $t < u$ is determined by $V_t D_t = E_t \max\{F_u(u,v) - k,0\}δ(u,v) D_u$.
Similar to floorlets, the value at $t$ of a caplet is
$V_t = E^*_t[\max\{1/D_u(v) - (1 + kδ),0\}] D_t(v)$

### Floor, Cap

A _floor_ and a _cap_ are just a sequence of back-to-back floorlets or caplets.

### Swaption

A _swaption_ is an option on a swap.
It has a single cash flow $\max\{k - F_{t_0}(t_0,\ldots,t_n;δ), 0\}$ at the
effective date of the swap, $t_0$.

### LIBOR Market Model

Assuming discrete times $(t_j)$, the deflator is determined by the joint distribution of
the repo rates $F_j = F_{t_j}$ over $[t_j, t_{j+1})$. (We use capital $F$ instead of
lower case $f$ to indicate it is a random variable.)

The LIBOR Market model assumes the forwards are jointly lognormal,
$$
    F_j = \phi(t_j)\exp(\Sigma_j\cdot B_{t_j} - ||\Sigma_j||^2 t_j/2),
$$
where $\phi(t_j) = E f_j$ is the futures quote, $\sigma_j$ is a vector with norm
equal to the at-the-money caplet volatility, and $B_t$ is vector-valued Brownian motion.
A nice feature of this model is that the forward curve and at-the-money caplet prices
are not affected by the individual components of the volatility vectors.

A common parameteration for the volatilities is $\Sigma(t) = \sigma(t)(\cos\alpha t, \sin\alpha t)$
for some parameter $\alpha$. Clealy $||\Sigma(t)|| = sigma(t)$. This can be used to fit, e.g., one
swaption price. Note $\Sigma\cdot B_t = \sigma(B_t^0\cos(\alpha t) + B_t^1\sin(\alpha t)$ and
$\Cov(B_t,B_u) = t\cos(\alpha(u-t))$ for $t < u$.

The futures are determined by the forwards and volatilities; $\phi(t) = f(t) + \sigma(t)^2 t^2/2$.

## Risky Bonds

A _risky zero coupon bond_ with _recovery_ $R$ and _default time_ $T$
has a single cash flow $C_u = 1$ if default occurs after maturity or
$C_T = R$ if $T \le u$. It is customary to assume $R$ is constant.
As with American options, we must expand the sample space to $Ω\times (0,\infty]$
where $(ω,t)\in Ω\times (0,\infty]$ indicates default occured at time $t$.
The partition of $(0\infty]$ representing information available at time $t$ for the default time is
$\{(t,\infty]\} \cup \{\{s\}:s \le t\}$. If default has
not occured prior to $t$ we only know $T > t$. If default occured prior
to time $t$ we know exactly when it happened.

We write $D_t^{R,T}(u)$ for the price $X_t^{D^{R,T}(u)}$ of the risky zero coupon bond at time $t$.
The dynamics of a risky zero are determined by
$$
    D_t^{R,T}(u) D_t = E_t[R 1(T \le u) D_T + 1(T > u) D_u].
$$
The _credit spread_ $s_t = s_t^{R,T}(u)$ defined by $D_t^{R,T}(u) = D_t(u) e^{-u s_t}$
incorporates both recovery and default.

If rates are zero then $D_t = 1$ for all $t$ and this simplifies to
$D_0^{R,T}(u) = R P(T \le u) + P(T > u)$ when $t = 0$. If $T$ is 
exponentially distributed with hazard rate $λ$ then $P(T > t) = e^{-λ t}$
and
$$
    D_0^{R,T}(u) = R + (1 - R)e^{-λu}.
$$
When $λ = 0$ the right hand side is 1.
When $R = 0$ the credit spread equals the hazard rate.
If $λu$ is small then the approximation
$e^x \approx 1 + x$ for small $x$ gives the rule of thumb
$s = λ(1 - R)$ where $s = s_0 = s_0^{R,T}(u)$ is the credit spread.

For general $t$ we have
$$
    D_t^{R,T}(u) = R P(T \le u | T > t) 1(t < T \le u) + P(T > u | T > t) 1(T > u).
$$

Unlike in the credit default swap market, mathematical finance literture likes to
assume recovery is delayed until maturity. It is also popular to make the unrealistic
assumption that default time is independent of the deflator. Under these assumptions
we have
$$
    D_t^{R,T}(u) = D_t(u)\bigl(R P(T \le u | T > t) 1(t < T \le u) + P(T > u | T > t) 1(T > u)\bigr).
$$
In principal, $R$ could be random and joint distributions involving the default time
and deflators could be specified.

-->
</section>
</section>
<footer>
Return to <a href="index.html">index</a>.
</footer>
</body>
</html>
