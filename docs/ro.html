<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Keith A. Lewis" />
  <meta name="dcterms.date" content="2025-01-26" />
  <title>A Unified Model of Derivative Securities</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="math.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: true
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">A Unified Model of Derivative Securities</h1>
<p class="author">Keith A. Lewis</p>
<p class="date">January 26, 2025</p>
<div class="abstract">
<div class="abstract-title">Abstract</div>
Value, hedge, and manage risk of any portfolio
</div>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#algebras-of-sets" id="toc-algebras-of-sets">Algebras of
Sets</a>
<ul>
<li><a href="#partitions" id="toc-partitions">Partitions</a></li>
</ul></li>
<li><a href="#measures" id="toc-measures">Measures</a></li>
<li><a href="#market-model" id="toc-market-model">Market Model</a></li>
<li><a href="#trading-strategy" id="toc-trading-strategy">Trading
Strategy</a></li>
<li><a href="#arbitrage" id="toc-arbitrage">Arbitrage</a>
<ul>
<li><a href="#example" id="toc-example">Example</a></li>
</ul></li>
</ul>
</nav>
<section id="algebras-of-sets" class="level2">
<h2>Algebras of Sets</h2>
<p>Let <span class="math inline">\Omega</span> be a <em>sample
space</em> of all possible outcomes. An <em>algebra of sets</em> on the
set <span class="math inline">\Omega</span> is a collection of subsets
of <span class="math inline">\Omega</span> close under complement and
set union. By De Morgan’s laws they are also closed under set
intersection. Elements of the algebra are <em>events</em> and we can
reason about ‘not A’ (<span class="math inline">\Omega\setminus
A</span>), ‘A or B’ (<span class="math inline">A\cup B</span>), and ‘A
and B’ (<span class="math inline">A\cap B</span>) for events <span
class="math inline">A, B</span>.</p>
<p><strong>Exercise</strong>. <em>If <span
class="math inline">\mathcal{A}</span> is an algebra then so is <span
class="math inline">\mathcal{A}\cup\{\emptyset,\Omega\}</span></em>.</p>
<p>We assume all algebras contain the empty set, hence also <span
class="math inline">\Omega</span>.</p>
<p>For <span class="math inline">\omega\in\Omega</span> the
<em>atom</em> containing <span class="math inline">\omega</span>, <span
class="math inline">A_\omega = \cap\{A\in\mathcal{A}\mid\omega\in
A\}</span>, also belongs to the algebra.</p>
<p><strong>Exercise</strong>. <em>Show <span
class="math inline">\{A_\omega\mid\omega\in\Omega\}</span> is a</em>
partition <em>of <span class="math inline">\Omega</span></em>.</p>
<p><em>Hint</em>. Show <span class="math inline">\Omega =
\cup_{\omega\in\Omega} A_\omega</span> and either <span
class="math inline">A_\omega = A_{\omega&#39;}</span> or <span
class="math inline">A_\omega\cap A_{\omega&#39;} = \emptyset</span> for
<span class="math inline">\omega, \omega&#39;\in\Omega</span>.</p>
<p><strong>Exercise</strong>. <em>Every algebra is generated by its
atoms</em>.</p>
<p><em>Hint</em>: Show the smallest algebra containing the atoms of the
algebra <span class="math inline">\mathcal{A}</span> is <span
class="math inline">\mathcal{A}</span>.</p>
<p>This shows we can identify an algebra of sets with its atoms.</p>
<p>A function <span
class="math inline">f\colon\Omega\to\mathbf{R}</span> is <span
class="math inline">\mathcal{A}</span>-measurable if <span
class="math inline">f^{-1}((-\infty, x]) = \{\omega\in\Omega\mid f(x)\le
x\}\in\mathcal{A}</span> for every <span
class="math inline">x\in\mathbf{R}</span>.</p>
<p><strong>Exercise</strong>. <em>Show <span
class="math inline">f\colon\Omega\to\mathbf{R}</span> is <span
class="math inline">\mathcal{A}</span>-measurable if and only if <span
class="math inline">f</span> is constant on the atoms of <span
class="math inline">\mathcal{A}</span></em>.</p>
<p>This shows <span class="math inline">\mathcal{A}</span>-measurable
functions are just functions on the atoms of <span
class="math inline">\mathcal{A}</span> so we write <span
class="math inline">f\colon\mathcal{A}\to\mathbf{R}</span> to indicate
<span class="math inline">f</span> is <span
class="math inline">\mathcal{A}</span>-measurable.</p>
<section id="partitions" class="level3">
<h3>Partitions</h3>
<p>Partitions represent partial information. Complete information is the
partition of singletons <span
class="math inline">\{\{\omega\}\mid\omega\in\Omega\}</span>. No
information is the partition <span
class="math inline">\{\Omega\}</span>. Partial information is knowing
which atom of the partition <span
class="math inline">\omega\in\Omega</span> belongs to.</p>
<p>If <span class="math inline">\mathcal{A}</span> and <span
class="math inline">\mathcal{B}</span> are algebras and <span
class="math inline">\mathcal{B}\subseteq\mathcal{A}</span> we say <span
class="math inline">\mathcal{B}</span> is <em>coarser</em> than <span
class="math inline">\mathcal{A}</span> and <span
class="math inline">\mathcal{A}</span> is <em>finer</em> than <span
class="math inline">\mathcal{B}</span>.</p>
</section>
</section>
<section id="measures" class="level2">
<h2>Measures</h2>
<p>Let <span class="math inline">B(S)</span> be the Banach space of
bounded functions on the set <span class="math inline">S</span> where
the norm is <span class="math inline">\|f\| = \sup_{s\in S}
|f(s)|</span>, <span class="math inline">f\in B(S)</span>. The dual of
<span class="math inline">B(S)</span> is the set of all bounded linear
functionals <span class="math inline">L\colon B(S)\to\mathbf{R}</span>.
The <em>dual pairing</em> is <span class="math inline">\langle f,
L\rangle = Lf</span>. Given <span class="math inline">E\subseteq
S</span> define <span class="math inline">\lambda(E) = L1_E</span> where
<span class="math inline">1_E\colon S\to\mathbf{R}</span> is the
indicator function of <span class="math inline">E</span>, <span
class="math inline">1_E(s) = 1</span> if <span class="math inline">s\in
E</span> and <span class="math inline">1_E(s) = 0</span> if <span
class="math inline">s\not\in E</span>.</p>
<p>Since <span class="math inline">1_\emptyset = 0</span> and <span
class="math inline">1_{E\cup F} = 1_E + 1_F - 1_{E\cap F}</span> we have
<span class="math inline">\lambda(\emptyset) = 0</span> and <span
class="math inline">\lambda(E\cup F) = \lambda(E) + \lambda(F) -
\lambda({E\cap F)}</span> so <span class="math inline">\lambda</span> is
a (finitely additive) measure on <span class="math inline">S</span>. The
set of such measures is denoted <span class="math inline">ba(S)</span>
and is also a Banach space with <span class="math inline">\|\lambda\| =
\sup_{\|f\|\le1} \int_S f\,d\lambda</span> where <span
class="math inline">\int_S f\,d\lambda = Lf</span>. The linear map <span
class="math inline">L\mapsto\lambda</span> is an isometric
isomorphism.</p>
<p>If <span class="math inline">\mathcal{B}\subseteq\mathcal{A}</span>
are algebras and <span class="math inline">\lambda\in
ba(\mathcal{A})</span> we write <span
class="math inline">\lambda|_\mathcal{B}</span> to denote the
restriction of <span class="math inline">\lambda</span> to <span
class="math inline">\mathcal{B}</span>. If <span
class="math inline">(\mathcal{A}_t)_{t\in T}</span> satisfy <span
class="math inline">\mathcal{A}_t \subseteq \mathcal{A}_u</span>, <span
class="math inline">t \le u</span>, and <span
class="math inline">(M_t)_{t\in T}</span> are measures with <span
class="math inline">M_t = M_u|_{\mathcal{A}_u}</span>, <span
class="math inline">t \le u</span>, we say <span
class="math inline">(M_t)</span> is a <em>martingale measure</em>.</p>
<p>For <span class="math inline">g\in B(S)</span> define <span
class="math inline">M_g\colon B(S)\to B(S)</span> by <span
class="math inline">M_g f = fg</span>, <span class="math inline">f\in
B(S)</span>, to be the linear operator of multiplication by <span
class="math inline">g</span>, Its adjoint <span
class="math inline">M_g^*\colon ba(S)\to ba(S)</span> is defined by
<span class="math inline">\langle M_gf,\lambda \rangle = \langle
f,M_g^*\lambda \rangle</span>, <span class="math inline">f, g\in
B(S)</span>, <span class="math inline">\lambda\in ba(S)</span>. In terms
of integrals <span class="math inline">\int_S M_gf\,d\lambda = \int_S
f\,dM_g^*\lambda</span>, or simply <span class="math inline">\int_S
(fg)\,d\lambda = \int_S f\,d(g\lambda)</span>.</p>
</section>
<section id="market-model" class="level2">
<h2>Market Model</h2>
<p>Let <span class="math inline">T</span> be the set of trading times,
<span class="math inline">\Omega</span> the sample space of possible
outcomes, and <span class="math inline">I</span> be the set of market
instruments. Partial information is represented by partitions <span
class="math inline">\mathcal{A}_t</span>, <span class="math inline">t\in
T</span>, where <span
class="math inline">\mathcal{A}_t\subseteq\mathcal{A}_u</span>, <span
class="math inline">t\le u</span>. The <em>prices</em> of the market
instruments at time <span class="math inline">t</span> is the vector
<span class="math inline">X_t\in\mathbf{R}^I</span>. Instruments can be
bought or sold in any amount at the given price. The <em>cash flows</em>
of the market instruments at time <span class="math inline">t</span> is
<span class="math inline">C_t\in\mathbf{R}^I</span>. Stocks have
dividends, bonds have coupons, and futures have daily margin adjustments
as cash flow. The price of a futures is always 0.</p>
<p>A <em>market model</em> specifies prices and cash flows based on
available information <span class="math display">
\begin{aligned}
    X_t&amp;\colon\mathcal{A}_t\to\mathbf{R}^I \\
    C_t&amp;\colon\mathcal{A}_t\to\mathbf{R}^I \\
\end{aligned}
</span></p>
</section>
<section id="trading-strategy" class="level2">
<h2>Trading Strategy</h2>
<p>A <em>trading strategy</em> is a finite collection of increasing
stopping times <span class="math inline">(\tau_j)</span> and functions
<span
class="math inline">\Gamma_j\colon\mathcal{A}_{\tau_j}\to\mathbf{R}^I</span>.
At time <span class="math inline">\tau_j</span>, <span
class="math inline">\Gamma_j</span> shares are purchased in each
instrument. Share accumulate to <em>positions</em> <span
class="math inline">\Delta_t = \sum_{\tau_j &lt; t} \Gamma_j</span>.
Note the strict inequality; it takes some time for a trade to settle.
Let <span class="math inline">\Gamma_t(\omega) = \Gamma_j(\omega) 1(t =
\tau_j(\omega))</span> so <span class="math inline">\Gamma_t =
\sum_{s&lt;t} \Gamma_s</span>.</p>
<p>The <em>value</em>, or <em>mark-to-market</em>, at time <span
class="math inline">t</span> is <span class="math inline">V_t =
(\Delta_t + \Gamma_t)\cdot X_t</span>. It is the amount that would be
obtained by selling the existing positions and the trades just done at
prevailing market prices. The impact on the trading <em>account</em> at
time <span class="math inline">t</span> is <span class="math inline">A_t
= \Delta_t\cdot C_t - \Gamma_t\cdot X_t</span>. You receive cash flows
proportional to to the existing positions and pay for the trades
executed at time <span class="math inline">t</span>.</p>
<p>The value and account associated with a trading strategy are <span
class="math display">
\begin{aligned}
    V_t&amp;\colon\mathcal{A}_t\to\mathbf{R}^I \\
    A_t&amp;\colon\mathcal{A}_t\to\mathbf{R}^I \\
\end{aligned}
</span></p>
</section>
<section id="arbitrage" class="level2">
<h2>Arbitrage</h2>
<p>We say arbitrage exists for a market model if there is a trading
strategy with <span class="math inline">\sum_j \Gamma_j = 0</span>,
<span class="math inline">A_{\tau_0} &lt; 0</span>, and <span
class="math inline">A_t \le 0</span> for <span class="math inline">t
&gt; \tau_0</span>. The initial trade makes money and subsequent trades
never lose money.</p>
<p><strong>Theorem</strong>. (Fundamental Theorem of Asset Pricing)
<em>A model has no arbitrage if and only if there exist positive
measures <span class="math inline">(D_t)_{t\in T}</span> with</em> <span
class="math display">
    X_t D_t = (X_u D_u + \sum_{t &lt; s \le u} C_s
D_s)|_{\mathcal{A}_t}.
</span></p>
<p>If a money market account exists with price <span
class="math inline">R_t</span> (and no cash flows) the trading strategy
<span class="math inline">\Gamma_t = 1</span>, <span
class="math inline">\Gamma_{t+\Delta t}</span> implies <span
class="math inline">R_t D_t = (R_{t+\Delta t}D_{t+\Delta t}</span>.</p>
<p><strong>Lemma</strong>. <em>For any arbitrage-free model</em> <span
class="math display">
    V_t D_t = (V_u D_u + \sum_{t &lt; s \le u} A_s
D_s)|_{\mathcal{A}_t}.
</span> Note how value and account correspond to prices and cash flows.
A trading strategy creates a synthetic instrument.</p>
<p><strong>Lemma</strong>. <em>If <span class="math inline">(D_t)_{t\in
T}</span> are positive measures and <span
class="math inline">(M_t)_{t\in T}</span> is an <span
class="math inline">\mathbf{R}^I</span>-valued martingale measure
then</em> <span class="math display">
    X_t D_t = M_t - \sum_{s\le t} C_s D_s
</span> <em>is an arbitrage-free model</em>.</p>
<section id="example" class="level3">
<h3>Example</h3>
<p>Let <span class="math inline">(B_t)_{t\ge0}</span> be standard
Brownian motion where <span class="math inline">\Omega =
C[0,\infty)</span>, <span class="math inline">P</span> is Weiner measure
on <span class="math inline">\Omega</span>, and <span
class="math inline">B_t(\omega) = \omega(t)</span>. The algebra <span
class="math inline">\mathcal{A}_t</span> is the smallest algebra for
which <span class="math inline">\{B_s\mid s \le t\}</span> are
measurable. Since <span class="math inline">e^{-\sigma^2 t/2 + \sigma
B_t}</span> is a martingale, <span class="math inline">e^{-\sigma^2 t/2
+ \sigma B_t}P|_{\mathcal{A}_t}</span> is a martingale measure. For any
<span class="math inline">\rho\in\mathbf{R}</span> <span
class="math inline">e^{-\rho t}P</span> is a positive measure. In the
case of no dividends, <span class="math inline">X_t e^{-\rho
t}P|_{\mathcal{A}_t} = e^{-\sigma^2 t/2 + \sigma
B_t}P|_{\mathcal{A}_t}</span> is an arbitrage-free model.</p>
<p><strong>Exercise</strong>. <em>Show <span class="math inline">Y =
E[X|\mathcal{A}]</span> if and only if <span class="math inline">YP =
(XP)|_\mathcal{A}</span></em>.</p>
<p><em>Hint</em>: <span class="math inline">Y = E[X|\mathcal{A}]</span>
if and only if <span class="math inline">Y</span> is <span
class="math inline">\mathcal{A}</span>-measurable and <span
class="math inline">\int_A Y\,dP = \int_A X\,dP</span> for all <span
class="math inline">A\in\mathcal{A}</span>.</p>
</section>
</section>
</body>
</html>
