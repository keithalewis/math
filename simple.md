---
title: Option Pricing
author: Keith A. Lewis
institute: KALX, LLC
classoption: fleqn
fleqn: true
abstract: European option pricing and greeks
thanks: Thank you Peter Carr and Bill Goff for your valuable feedback.
...

\newcommand{\Var}{\operatorname{Var}}
\newcommand{\RR}{ùëπ}
\newcommand{\AA}{\mathcal{A}}

There is a clear trajectory in mathematical finance starting from Black, Scholes, and Merton.
Scholes and Merton won a Nobel Prize for a new method of valuing derivative securities that
did not require estimating the return on the underlying. Under the assumption that
future stock prices could be modelled by geometric Brownian motion and it was possible
to trade in continuous time, all one needed to know was the volatiliy.

Stephen Ross expandend the theory in the one-period case to any number of instruments.
He showed the Fundamental Theorem of Asset pricing was a geometric result that
could be proved using the Hahn-Banach theorem. 
He posited that prices of $n$ instruments at the begining of the period
can be represented as a vector $x\in\RR^n$ and the prices at the end
of the period are functions of possible outcomes $X\colon\Omega\to\RR^n$.
He showed this model is arbitrage-free if and only if $x$ belongs to
the smallest closed cone containing the range of $X$. This is equivalent
to
$$
	x = \int_\Omega X(\omega)\,d\Pi(\omega)
$$
for some positive measure $\Pi$ on $\Omega$.

Subsequent models extended this to the multi-period case and incorporated
the fact instruments can have cash flows.


## Unified Model

Assume $\Omega$ is the sample space of possible outcomes, $P$ is a probability measure
on $\Omega$, and $\AA_t$ are algebras of sets
indicating the information available at each trading time $t\in T$.

### Market

A _market model_  for a set $I$ of _instruments_ is specified by
stochastic processes for _prices_ $X_t\colon\AA_t\to\RR^I$
and _cash flows_ $C_t\colon\AA_t\to\RR^I$, $t\in T$. [^1]

[^1]: If $\AA$ is an [_algebra of
sets_](https://en.wikipedia.org/wiki/Algebra_of_sets) on the set
$\Omega$ we write $X\colon\AA\to\RR$ to indicate $X\colon\Omega\to\RR$ is
$\AA$-[_measurable_](https://en.wikipedia.org/wiki/Measurable_function).
If $\AA$ is finite then the
[_atoms_](https://en.wikipedia.org/wiki/Atom_(measure_theory)) of $\AA$
form a [_partition_](https://en.wikipedia.org/wiki/Partition_of_a_set)
of $\Omega$ and $X$ is $\AA$-measurable if and only if it is constant
on atoms of $\AA$. In this case $X$ is indeed a function on the atoms.

[^2]: If $A$ and $B$ are sets then $A^B = \{f\colon B\to A\}$ is
the set of all functions from $B$ to $A$.

We assume any amount of each instrument can be bought or sold at price $X_t$ at time $t\in T$.
Cash flows are almost always 0. Stocks pay dividends on dividend dates, bonds pay 
periodic coupons, European options have a single cash flow at expiration, futures have
daily margin adjustments as cash flows. The price of a futures is always 0.

### Trading

A _trading strategy_ is a finite, increasing set of stopping times $(\tau_j)$
and how much of each instrument to trade $\Gamma_j\colon\AA_{\tau_j}\to\RR^I$.
Trades accumulate to a _position_
$$
	\Delta_t = \sum_{\tau_j < t}\Gamma_j = \sum_{s < t} \Gamma_s
$$
where $\Gamma_s = \Gamma_j$ if $\tau_j = s$.
Note the strict inequality. This reflects the reality that it takes some time
after a trade is executed for it to settle.

The _value_, or _mark-to-market_ of a trading strategy is
$$
	V_t = (\Delta_t + \Gamma_t)\cdot X_t.
$$
It the the amount
generated by unwinding the current position and trades just executed at
the prevailing market price.

Trading strategies involve cash flow _amounts_ 
$$
	A_t = \Delta_t\cdot C_t - \Gamma_t\cdot X_t.
$$
At time $t$ all cash flows are received in proportion to the existing position and
the trades just executed are debited from the trading account.

### Arbitrage

_Arbitrage_ exists for a model is there exists a trading strategy $(\tau_j, \Gamma_j)$
with $\sum_j \Gamma_j = 0$, $A_{\tau_0} > 0$, and $A_t\ge0$ for $t > \tau_0$.
The strategy must close out, make money on the first trade, and never lose money thereafter.

Arbitrage-free models are parameterized by a vector-valued martingale,
$M_t\colon\AA_t\to\RR^I$ and a positive adapted process $D_t\colon\AA_t\to (0,\infty)$:
$$
	X_t D_t = M_t - \sum_{s\le t}C_s D_s.
$$
