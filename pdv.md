---
title: Path Dependent Volatility
author: Keith A. Lewis
institution: KALX, LLC
email: kal@kalx.net
classoption: fleqn
abstract: Volatility is path dependent.
...

\newcommand\mb[1]{\boldsymbol{#1}}
\newcommand\bm[1]{\boldsymbol{#1}}
\newcommand\RR{\bm{R}}
\newcommand\FF{\bm{F}}
\newcommand\NN{\bm{N}}
\newcommand\LL{\mathcal{L}}
\newcommand\BB{\mathcal{B}}
\newcommand\ran{\operatorname{ran}}
\renewcommand\ker{\operatorname{ker}}

When a trader sets up an initial hedge for an option they usually come
up with a volatility to plug into the Black-Scholes/Merton formula for
delta.  As time goes by they rehedge using the formula for gamma. If
stock prices were geometric Brownian motion generated by a computer then
the same volatility could be used over the life of the option.
Of course they are not, so traders might observe underlying stock prices
over time and update their volatility guess based on that.
In this case the volatility is _path dependent_.

The B-S/M model assumes stock prices satisfy $dS_t/S_t = \mu\,dt + \sigma\,dB_t$
where $\mu$ and $\sigma$ are constant and $(B_t)_{t\ge0}$ is standard Brownian motion.
The Ito calculus shows $(dS_t/S_t)^2 = \sigma^2\,dt$ so a natural extension
to path dependent volatility might be $dS_t/S_t = \mu\,dt + \Sigma_t\,dB_t$ with
${\Sigma_t^2 = (1/t)\int_0^t (dS/S)^2}$. The volatility $\Sigma$ is the average
of the realized volatility. Unfortunately, this is not a good model since
it implies $\Sigma$ is constant.
Since $t\Sigma_t^2 = \int_0^t (dS/S)^2 = \int_0^t \Sigma_s^2\,ds$
we have $d(t\Sigma_t^2) = \Sigma_t^2$. By the Ito calculus we
also have $d(t\Sigma_t^2) = t\,d\Sigma^2_t + \Sigma_t^2\,dt$ so
$0 = t\,d\Sigma_t^2$ and $\Sigma_t$ must be constant.

The average realized volatility assigns equal weight to each observation.
If $K$ is a function on the positive real numbers then we can consider
$$
	\Sigma^2_t = \int_0^t K(t - s)(d\Sigma_s/\Sigma_s)^2\,ds
$$
It makes sense to assign more weight to recent observations
so we can choose $K$ to be a decreasing function, e.g.,
$K(t) = \lambda\exp(-\lambda t)$, $t > 0$, for some positive $\lambda\in\RR$.
Note $\int_0^\infty K(t)\,dt = 1$.
This can be generalized to integrals of the form
$$
	\int_0^t K(t - s)\phi(d\Sigma_s/\Sigma_s)\,ds
$$
for some function $\phi$. Note this is scale-invariant in $\Sigma_t$.
We may want to normalize $K$ by dividing by $\int_0^t K(t - s)\,ds$.

Guyon and Lekeufack define ${R_{j,t} = \int_0^t K(t - s)(d\Sigma_s/\Sigma_s)^j\,ds}$ for $j = 1, 2$.
Their model for fitting volatility is
$$
	\Sigma_t = \beta_0 + \beta_1 R_{1,t} + \beta_2 \sqrt{R_{2,t}}, \qquad \beta_0 > 0, \beta_1 < 0, \beta_2\in (0,1).
$$

The paper is not clear on how data are used to produce the $R_j$. VIX data are 30-day vols
and implied volatility can be obtained from option prices, but at what maturities?
